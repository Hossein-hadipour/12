<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ŸÅÿ±ŸÖ ÿ™ÿÆÿµÿµ€å ÿ®ÿßÿ≤ÿØ€åÿØ ÿ¢ŸÖŸàÿ≤ÿ¥€å - ŸÖŸÇÿ∑ÿπ ÿßÿ®ÿ™ÿØÿß€å€å</title>
  <!-- SweetAlert2 -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <!-- Jalali Moment for Persian Date -->
  <script src="https://cdn.jsdelivr.net/npm/moment@2.29.4/moment.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jalali-moment@3.3.10/dist/jalali-moment.browser.js"></script>
  <!-- Chart.js for dashboard charts -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.4/dist/chart.umd.min.js"></script>
  <!-- Vazir Font from CDN -->
  <link href="https://v1.fontapi.ir/css/Vazir:300,400,500" rel="stylesheet">
  <!-- Papa Parse for CSV import -->
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
  <style>
    body {
      background: linear-gradient(135deg, #1e40af, #3b82f6);
      min-height: 100vh;
      font-family: 'Vazir', sans-serif;
      font-size: 0.85rem;
      transition: background-color 0.3s, color 0.3s;
    }
    body.dark-mode {
      background:ianza2: linear-gradient(135deg, #1e3a8a, #111827);
      color: #e5e7eb;
    }
    .container {
      max-width: 100%;
      margin: 0 auto;
      padding: 1rem;
    }
    .card {
      background: white;
      border-radius: 1rem;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
      padding: 1.5rem;
      margin-bottom: 2rem;
      transition: transform 0.3s, background-color 0.3s;
    }
    .card.dark-mode {
      background: #374151;
      color: #e5e7eb;
    }
    .card:hover {
      transform: translateY(-5px);
    }
    .gradient-btn {
      background: linear-gradient(90deg, #3b82f6, #60a5fa);
      color: white;
      padding: 0.5rem 1.5rem;
      border: none;
      border-radius: 1.5rem;
      font-size: 0.9rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      position: relative;
      overflow: hidden;
    }
    .gradient-btn:hover {
      background: linear-gradient(90deg, #2563eb, #3b82f6);
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.25);
    }
    .gradient-btn::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      transform: translate(-50%, -50%);
      transition: width 0.6s ease, height 0.6s ease;
    }
    .gradient-btn:hover::before {
      width: 200px;
      height: 200px;
    }
    .month-btn {
      background: linear-gradient(90deg, #60a5fa, #93c5fd);
      color: white;
      padding: 0.5rem 1rem;
      border: none;
      border-radius: 0.75rem;
      font-size: 0.8rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .month-btn.active {
      background: linear-gradient(90deg, #2563eb, #3b82f6);
      transform: scale(1.05);
    }
    .month-btn:hover {
      background: linear-gradient(90deg, #2563eb, #3b82f6);
    }
    table {
      width: 100%;
      border-collapse: collapse;
      table-layout: fixed;
    }
    th, td {
      border: 1px solid #e5e7eb;
      padding: 0.5rem;
      text-align: right;
      font-size: 0.8rem;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
    th {
      background: #bfdbfe;
      color: #1e40af;
      font-weight: 600;
    }
    .dark-mode th {
      background: #3b82f6;
      color: #e5e7eb;
    }
    textarea, input[type="number"], input[type="text"], input[type="date"], select {
      width: 100%;
      font-size: 0.8rem;
      padding: 0.5rem;
      border: 1px solid #3b82f6;
      border-radius: 0.5rem;
      transition: border-color 0.3s;
      background: white;
      color: #1f2937;
      box-sizing: border-box;
    }
    .dark-mode textarea, .dark-mode input, .dark-mode select {
      background: #4b5563;
      color: #e5e7eb;
      border-color: #6b7280;
    }
    textarea:focus, input:focus, select:focus {
      border-color: #2563eb;
      outline: none;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
    }
    textarea {
      resize: vertical;
      min-height: 50px;
    }
    .average {
      font-weight: bold;
      color: #2563eb;
    }
    .dark-mode .average {
      color: #93c5fd;
    }
    .footer {
      text-align: center;
      font-size: 0.75rem;
      color: #fff;
      margin-top: 2rem;
      opacity: 0.9;
    }
    .dark-mode .footer {
      color: #d1d5db;
    }
    .tooltip {
      position: relative;
      display: inline-block;
      width: 100%;
    }
    .tooltip .tooltiptext {
      visibility: hidden;
      width: 200px;
      background-color: #1f2937;
      color: #fff;
      text-align: center;
      border-radius: 6px;
      padding: 5px;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      right: 50%;
      transform: translateX(50%);
      opacity: 0;
      transition: opacity 0.3s;
    }
    .tooltip:hover .tooltiptext {
      visibility: visible;
      opacity: 1;
    }
    .search-container {
      display: flex;
      gap: 1rem;
      margin-bottom: 1rem;
    }
    #chartContainer {
      max-width: 800px;
      margin: 2rem auto;
      height: 400px;
    }
    .month-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
      gap: 0.5rem;
      margin-bottom: 1rem;
    }
    .header {
      text-align: center;
      color: #fff;
      font-size: 1.2rem;
      margin-bottom: 1rem;
    }
    .header small {
      display: block;
      font-size: 0.8rem;
      margin-top: 0.5rem;
    }
    @media (max-width: 640px) {
      .container {
        padding: 0.75rem;
      }
      .card {
        padding: 1rem;
        border-radius: 0.75rem;
      }
      th, td {
        padding: 0.3rem;
        font-size: 0.7rem;
      }
      input, textarea, select {
        font-size: 0.75rem;
        padding: 0.4rem;
      }
      .gradient-btn {
        padding: 0.6rem 1.2rem;
        font-size: 0.85rem;
      }
      .month-btn {
        padding: 0.4rem 0.8rem;
        font-size: 0.75rem;
      }
      .button-container {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background: white;
        padding: 0.5rem;
        box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.1);
        z-index: 10;
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        justify-content: center;
        overflow-y: auto;
        max-height: 20vh;
      }
      .dark-mode .button-container {
        background: #1f2937;
      }
      .gradient-btn {
        flex: 1 1 calc(50% - 0.5rem);
        max-width: calc(50% - 0.5rem);
      }
      .grid-cols-2 {
        grid-template-columns: 1fr;
      }
      .search-container {
        flex-direction: column;
      }
      .header {
        font-size: 1rem;
      }
      .header small {
        font-size: 0.7rem;
      }
      #chartContainer {
        height: 300px;
      }
    }
    @media print {
      body {
        font-size: 8pt;
        margin: 0;
      }
      .container {
        padding: 0;
      }
      .card {
        box-shadow: none;
        margin: 0;
        page-break-inside: avoid;
      }
      table {
        page-break-inside: auto;
      }
      th, td {
        padding: 4px;
        border: 0.5px solid #000;
        font-size: 7pt;
      }
      .button-container, #dashboard, #toggleDarkMode, #default_score, button, .month-grid {
        display: none;
      }
    }
  </style>
</head>
<body>
  <div class="header">
    üìö ÿ®ÿ≥ŸÖ ÿßŸÑŸÑŸá ÿßŸÑÿ±ÿ≠ŸÖŸÜ ÿßŸÑÿ±ÿ≠€åŸÖ üìö
  </div>

  <div class="container">
    <div class="card">
      <h1 class="text-2xl font-bold text-center text-indigo-900 mb-4 dark-mode:text-indigo-300">ŸÅÿ±ŸÖ ÿ™ÿÆÿµÿµ€å ÿ®ÿßÿ≤ÿØ€åÿØ ÿ¢ŸÖŸàÿ≤ÿ¥€å - ŸÖŸÇÿ∑ÿπ ÿßÿ®ÿ™ÿØÿß€å€å</h1>
      <p class="text-center text-gray-600 text-sm mb-6 dark-mode:text-gray-400">ÿßÿØÿßÿ±Ÿá ÿ¢ŸÖŸàÿ≤ÿ¥ Ÿà Ÿæÿ±Ÿàÿ±ÿ¥ ŸÜÿßÿ≠€åŸá ÿ≥Ÿá ÿ¥€åÿ±ÿßÿ≤</p>

      <!-- ÿØ⁄©ŸÖŸá ÿ≠ÿßŸÑÿ™ ÿ™ÿßÿ±€å⁄© -->
      <div class="flex justify-end mb-4">
        <button id="toggleDarkMode" class="gradient-btn">ÿ™ÿ∫€å€åÿ± ÿ®Ÿá ÿ≠ÿßŸÑÿ™ ÿ™ÿßÿ±€å⁄©</button>
      </div>

      <!-- ŸÅ€åŸÑÿ™ÿ± ÿ¨ÿ≥ÿ™ÿ¨Ÿà€å Ÿæ€åÿ¥ÿ±ŸÅÿ™Ÿá -->
      <div class="search-container">
        <div class="w-full">
          <label class="block text-xs font-medium text-gray-700 dark-mode:text-gray-300">ÿ¨ÿ≥ÿ™ÿ¨Ÿà€å ŸÅÿ±ŸÖ ÿ∞ÿÆ€åÿ±Ÿá‚Äåÿ¥ÿØŸá</label>
          <input id="search_form" type="text" placeholder="ÿ¨ÿ≥ÿ™ÿ¨Ÿà ÿ®ÿ± ÿßÿ≥ÿßÿ≥ ŸÜÿßŸÖÿå ⁄©ÿØ Ÿæÿ±ÿ≥ŸÜŸÑ€å €åÿß ÿ™ÿßÿ±€åÿÆ" class="mt-1">
        </div>
        <div class="w-full">
          <label class="block text-xs font-medium text-gray-700 dark-mode:text-gray-300">ÿßŸÜÿ™ÿÆÿßÿ® ŸÅÿ±ŸÖ ÿ∞ÿÆ€åÿ±Ÿá‚Äåÿ¥ÿØŸá</label>
          <select id="load_form_select" class="mt-1 block w-full rounded-md border-gray-300">
            <option value="">-- Ÿá€å⁄Ü‚Äå⁄©ÿØÿßŸÖ --</option>
          </select>
        </div>
        <button onclick="loadForm()" class="gradient-btn px-4 py-1 mt-2">ÿ®ÿßÿ±⁄Øÿ∞ÿßÿ±€å ŸÅÿ±ŸÖ</button>
      </div>

      <!-- ÿØÿßÿ¥ÿ®Ÿàÿ±ÿØ ÿ™ÿ≠ŸÑ€åŸÑ€å -->
      <div class="card" id="dashboard">
        <h2 class="text-lg font-semibold text-indigo-800 mb-3 dark-mode:text-indigo-300">ÿØÿßÿ¥ÿ®Ÿàÿ±ÿØ ÿ™ÿ≠ŸÑ€åŸÑ€å</h2>
        <div id="chartContainer">
          <canvas id="scoreChart"></canvas>
        </div>
        <p class="text-xs mt-2 dark-mode:text-gray-300">Ÿàÿ∂ÿπ€åÿ™ ŸÖÿßŸá‚ÄåŸáÿß: <span id="month_status"></span></p>
      </div>

      <!-- ŸÅÿ±ŸÖ ÿßÿ∑ŸÑÿßÿπÿßÿ™ ÿßŸàŸÑ€åŸá -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
        <div class="tooltip">
          <label class="block text-xs font-medium text-gray-700 dark-mode:text-gray-300">ŸÜÿßŸÖ ŸÖÿØÿ±ÿ≥Ÿá</label>
          <input id="school" type="text" required oninput="saveForm()">
          <span class="tooltiptext">ŸÜÿßŸÖ ⁄©ÿßŸÖŸÑ ŸÖÿØÿ±ÿ≥Ÿá ÿ±ÿß Ÿàÿßÿ±ÿØ ⁄©ŸÜ€åÿØ</span>
        </div>
        <div>
          <label class="block text-xs font-medium text-gray-700 dark-mode:text-gray-300">ŸÜÿßŸÖ ŸÖÿØ€åÿ±</label>
          <input id="manager" type="text" required oninput="saveForm()">
        </div>
        <div class="tooltip">
          <label class="block text-xs font-medium text-gray-700 dark-mode:text-gray-300">⁄©ÿØ Ÿæÿ±ÿ≥ŸÜŸÑ€å (€∏ ÿ±ŸÇŸÖ)</label>
          <input id="personnel_code" type="text" maxlength="8" pattern="[0-9]{8}" required oninput="saveForm()">
          <span class="tooltiptext">⁄©ÿØ Ÿæÿ±ÿ≥ŸÜŸÑ€å €∏ ÿ±ŸÇŸÖ€å ÿ±ÿß Ÿàÿßÿ±ÿØ ⁄©ŸÜ€åÿØ</span>
        </div>
        <div>
          <label class="block text-xs font-medium text-gray-700 dark-mode:text-gray-300">ŸÜÿßŸÖ ÿ®ÿßÿ≤ÿ±ÿ≥</label>
          <input id="inspector" type="text" required oninput="saveForm()">
        </div>
        <div>
          <label class="block text-xs font-medium text-gray-700 dark-mode:text-gray-300">ÿ™ÿßÿ±€åÿÆ ÿ®ÿßÿ≤ÿØ€åÿØ (ŸÖ€åŸÑÿßÿØ€å)</label>
          <input id="date" type="date" required onchange="saveForm()">
        </div>
        <div>
          <label class="block text-xs font-medium text-gray-700 dark-mode:text-gray-300">ÿ™ÿßÿ±€åÿÆ ÿ®ÿßÿ≤ÿØ€åÿØ (ÿ¥ŸÖÿ≥€å)</label>
          <input id="persian_date" type="text" readonly>
        </div>
        <div>
          <label class="block text-xs font-medium text-gray-700 dark-mode:text-gray-300">ŸÖÿØÿ™ ÿ≤ŸÖÿßŸÜ ÿ≠ÿ∂Ÿàÿ± (ÿØŸÇ€åŸÇŸá)</label>
          <input id="duration" type="number" required oninput="saveForm()">
        </div>
        <div class="md:col-span-2">
          <label class="block text-xs font-medium text-gray-700 dark-mode:text-gray-300">ÿ™Ÿàÿ∂€åÿ≠ÿßÿ™ ÿßÿ∂ÿßŸÅ€å</label>
          <textarea id="extra_comments" rows="3" oninput="saveForm()"></textarea>
        </div>
        <div class="md:col-span-2">
          <label class="block text-xs font-medium text-gray-700 dark-mode:text-gray-300">ŸÜŸÖÿ±Ÿá Ÿæ€åÿ¥‚ÄåŸÅÿ±ÿ∂</label>
          <select id="default_score" class="mt-1">
            <option value="">ÿßŸÜÿ™ÿÆÿßÿ®</option>
            <option value="ÿπÿßŸÑ€å">ÿπÿßŸÑ€å</option>
            <option value="ÿÆŸàÿ®">ÿÆŸàÿ®</option>
            <option value="ŸÖÿ™Ÿàÿ≥ÿ∑">ŸÖÿ™Ÿàÿ≥ÿ∑</option>
            <option value="ŸÜ€åÿßÿ≤ŸÖŸÜÿØ ÿ™ŸÑÿßÿ¥">ŸÜ€åÿßÿ≤ŸÖŸÜÿØ ÿ™ŸÑÿßÿ¥</option>
          </select>
          <button onclick="fillDefaultScores()" class="gradient-btn px-4 py-1 mt-2">ÿßÿπŸÖÿßŸÑ ŸÜŸÖÿ±Ÿá Ÿæ€åÿ¥‚ÄåŸÅÿ±ÿ∂</button>
        </div>
        <div class="md:col-span-2">
          <label class="block text-xs font-medium text-gray-700 dark-mode:text-gray-300">ÿßŸÜÿ™ÿÆÿßÿ® ŸÖÿßŸá</label>
          <div class="month-grid" id="month_buttons"></div>
        </div>
      </div>

      <!-- ÿ¨ÿØŸàŸÑ ŸÖÿ≠Ÿàÿ±Ÿáÿß ÿ®ÿ±ÿß€å ŸÖÿßŸá ÿßŸÜÿ™ÿÆÿßÿ®€å -->
      <div class="card overflow-x-auto" id="month_axes">
        <h2 class="text-lg font-semibold text-indigo-800 mb-3 dark-mode:text-indigo-300" id="month_title">ŸÖÿ≠Ÿàÿ±Ÿáÿß€å ÿ®ÿßÿ≤ÿØ€åÿØ ŸÖÿßŸá ÿßŸÜÿ™ÿÆÿßÿ®‚Äåÿ¥ÿØŸá</h2>
        <table>
          <thead>
            <tr>
              <th style="width: 10%;">ÿ±ÿØ€åŸÅ</th>
              <th style="width: 40%;">ŸÖÿ≠Ÿàÿ± ÿßÿ±ÿ≤€åÿßÿ®€å</th>
              <th style="width: 30%;">ÿ™Ÿàÿ∂€åÿ≠</th>
              <th style="width: 20%;">ŸÜŸÖÿ±Ÿá</th>
            </tr>
          </thead>
          <tbody id="axes_table_body">
            <!-- ŸÖÿ≠Ÿàÿ±Ÿáÿß ÿ®Ÿá ÿµŸàÿ±ÿ™ ÿØ€åŸÜÿßŸÖ€å⁄© ŸÑŸàÿØ ŸÖ€å‚Äåÿ¥ŸàŸÜÿØ -->
          </tbody>
        </table>
        <p class="average mt-2">ŸÖ€åÿßŸÜ⁄Ø€åŸÜ ŸÖÿßŸá: <span id="month_avg">0</span></p>
      </div>

      <!-- ŸÜŸÖÿß€åÿ¥ ŸÖ€åÿßŸÜ⁄Ø€åŸÜ ⁄©ŸÑ 12 ŸÖÿßŸá -->
      <p class="average mt-4">ŸÖ€åÿßŸÜ⁄Ø€åŸÜ ⁄©ŸÑ 12 ŸÖÿßŸá: <span id="overall_avg">0</span></p>

      <!-- ÿ™ÿ≠ŸÑ€åŸÑ ÿßÿ™ŸàŸÖÿßÿ™€å⁄© -->
      <div class="card">
        <h2 class="text-lg font-semibold text-indigo-800 mb-3 dark-mode:text-indigo-300">ÿ™ÿ≠ŸÑ€åŸÑ ÿßÿ™ŸàŸÖÿßÿ™€å⁄©</h2>
        <table>
          <thead>
            <tr>
              <th>ŸÖÿ≠Ÿàÿ± ÿ™ÿ≠ŸÑ€åŸÑ</th>
              <th>ÿ™Ÿàÿ∂€åÿ≠ÿßÿ™</th>
            </tr>
          </thead>
          <tbody id="smart_analysis">
            <tr><td>ÿ™ÿ≠ŸÑ€åŸÑ ŸáŸàÿ¥</td><td>-</td></tr>
            <tr><td>ÿ™ÿ≠ŸÑ€åŸÑ ÿ±ÿßŸáÿ®ÿ±ÿØ€å</td><td>-</td></tr>
            <tr><td>ÿ™ÿ≠ŸÑ€åŸÑ ÿ±ŸàÿßŸÜÿ¥ŸÜÿßÿ≥€å</td><td>-</td></tr>
            <tr><td>ÿ™ÿ≠ŸÑ€åŸÑ ⁄©ŸÖ⁄©€å</td><td>-</td></tr>
            <tr><td>ÿ™ÿ≠ŸÑ€åŸÑ ÿπŸÖŸÑ⁄©ÿ±ÿØ ⁄©ŸÑ€å</td><td>-</td></tr>
            <tr><td>ÿ™ÿ≠ŸÑ€åŸÑ ŸÜŸÇÿßÿ∑ ŸÇŸàÿ™ Ÿà ÿ∂ÿπŸÅ</td><td>-</td></tr>
            <tr><td>Ÿæ€åÿ¥ŸÜŸáÿßÿØÿßÿ™</td><td>-</td></tr>
          </tbody>
        </table>
      </div>

      <div class="button-container flex justify-center space-x-2 mt-6 md:space-x-4">
        <button onclick="startTour()" class="gradient-btn">ÿ±ÿßŸáŸÜŸÖÿß€å ÿ™ÿπÿßŸÖŸÑ€å</button>
        <button onclick="saveForm()" class="gradient-btn">ÿ∞ÿÆ€åÿ±Ÿá ŸÅÿ±ŸÖ</button>
        <button onclick="previewForm()" class="gradient-btn">Ÿæ€åÿ¥‚ÄåŸÜŸÖÿß€åÿ¥ ⁄Øÿ≤ÿßÿ±ÿ¥</button>
        <button onclick="printForm()" class="gradient-btn">⁄ÜÿßŸæ ⁄Øÿ≤ÿßÿ±ÿ¥ (PDF)</button>
        <button onclick="exportToJSON()" class="gradient-btn">ÿµÿßÿØÿ±ÿßÿ™ ÿ®Ÿá JSON</button>
        <button onclick="importJSON()" class="gradient-btn">Ÿàÿ±ŸàÿØ ÿßÿ≤ JSON</button>
        <button onclick="exportToCSV()" class="gradient-btn">ÿµÿßÿØÿ±ÿßÿ™ ÿ®Ÿá ÿß⁄©ÿ≥ŸÑ</button>
        <button onclick="importCSV()" class="gradient-btn">Ÿàÿ±ŸàÿØ ÿßÿ≤ ÿß⁄©ÿ≥ŸÑ</button>
        <button onclick="clearForm()" class="gradient-btn">Ÿæÿß⁄© ⁄©ÿ±ÿØŸÜ ŸÅÿ±ŸÖ</button>
        <button onclick="clearAllData()" class="gradient-btn">Ÿæÿß⁄© ⁄©ÿ±ÿØŸÜ ÿ™ŸÖÿßŸÖ ÿßÿ∑ŸÑÿßÿπÿßÿ™</button>
      </div>
    </div>
  </div>

  <div class="footer">
    ÿ≥ÿßÿ≤ŸÜÿØŸá ÿ≠ÿ≥€åŸÜ ŸáÿßÿØ€å ŸæŸàÿ± üî®
  </div>

  <script>
    // ÿØÿßÿØŸá‚ÄåŸáÿß€å ŸÖÿ≠Ÿàÿ±Ÿáÿß ÿ®ÿ±ÿß€å Ÿáÿ± ŸÖÿßŸá
    const monthAxes = {
      'ŸÖŸáÿ±': [
        'ÿ™ÿØŸà€åŸÜ ÿ®ÿ±ŸÜÿßŸÖŸá ÿ≥ÿßŸÑÿßŸÜŸá ŸÖÿØÿ±ÿ≥Ÿá ÿ®ÿß ÿ™ÿ£⁄©€åÿØ ÿ®ÿ± ÿßÿ±ÿ≤ÿ¥€åÿßÿ®€å ÿ™Ÿàÿµ€åŸÅ€å.',
        'ŸÜÿ∏ÿßÿ±ÿ™ ÿ®ÿ± ÿ™ÿ¥⁄©€åŸÑ ŸæŸàÿ¥Ÿá‚ÄåŸáÿß€å ⁄©ÿßÿ± ÿØÿßŸÜÿ¥‚Äåÿ¢ŸÖŸàÿ≤ÿßŸÜ ÿ™Ÿàÿ≥ÿ∑ ŸÖÿπŸÑŸÖÿßŸÜ.',
        'ÿ®ÿ±⁄Øÿ≤ÿßÿ±€å ÿ¨ŸÑÿ≥Ÿá ÿ™Ÿàÿ¨€åŸá€å ÿ®ÿß ŸÖÿπŸÑŸÖÿßŸÜ ÿ®ÿ±ÿß€å ÿ™ÿ®€å€åŸÜ ÿ¢€å€åŸÜ‚ÄåŸÜÿßŸÖŸá ÿßÿ±ÿ≤ÿ¥€åÿßÿ®€å ⁄©€åŸÅ€å.',
        'ÿß€åÿ¨ÿßÿØ ÿ¥Ÿàÿ±ÿß€å ŸÖÿπŸÑŸÖÿßŸÜ ÿ®ÿ±ÿß€å ŸáŸÖÿßŸáŸÜ⁄Ø€å ÿ®ÿ±ŸÜÿßŸÖŸá‚ÄåŸáÿß€å ÿ¢ŸÖŸàÿ≤ÿ¥€å.',
        'ÿ®ÿ±ŸÇÿ±ÿßÿ±€å ÿßÿ±ÿ™ÿ®ÿßÿ∑ ÿßŸàŸÑ€åŸá ÿ®ÿß ŸàÿßŸÑÿØ€åŸÜ (ÿ¨ŸÑÿ≥Ÿá ÿπŸÖŸàŸÖ€å).',
        'ÿ™ÿÆÿµ€åÿµ ŸÖŸÜÿßÿ®ÿπ (ÿßÿ®ÿ≤ÿßÿ±Ÿáÿß€å ⁄©€åŸÅ€åÿå ŸÜÿ±ŸÖ‚ÄåÿßŸÅÿ≤ÿßÿ±Ÿáÿß€å ŸÖÿØ€åÿ±€åÿ™€å).',
        'ŸÜÿ∏ÿßÿ±ÿ™ ÿ®ÿ± ÿßÿ¨ÿ±ÿß€å ÿßÿ±ÿ≤€åÿßÿ®€å‚ÄåŸáÿß€å ÿ™ÿ¥ÿÆ€åÿµ€å ŸÖÿπŸÑŸÖÿßŸÜ.',
        'ÿ∑ÿ±ÿßÿ≠€å ÿ®ÿ±ŸÜÿßŸÖŸá‚ÄåŸáÿß€å Ÿæÿ±Ÿàÿ±ÿ¥€å ÿ®ÿ±ÿß€å ÿ™ŸÇŸà€åÿ™ ŸÖÿ≠€åÿ∑ ÿπÿßÿ∑ŸÅ€å (ŸÇÿ±Ÿá‚ÄåÿØÿßÿ∫€å: "ŸÖÿØÿ±ÿ≥Ÿáÿå ÿÆÿßŸÜŸá ÿßÿπÿ™ŸÖÿßÿØ").',
        'ŸÖÿ≥ÿ™ŸÜÿØÿ≥ÿßÿ≤€å ŸÅÿπÿßŸÑ€åÿ™‚ÄåŸáÿß€å ŸÜÿ∏ÿßÿ±ÿ™€å ÿØÿ± ÿØŸÅÿ™ÿ± ŸÖÿØ€åÿ±€åÿ™.',
        'ÿßÿ±ÿ≤€åÿßÿ®€å ÿßŸàŸÑ€åŸá ÿπŸÖŸÑ⁄©ÿ±ÿØ ŸÖÿπŸÑŸÖÿßŸÜ ÿØÿ± ÿßÿ±ÿ≤ÿ¥€åÿßÿ®€å ⁄©€åŸÅ€å.',
        'ŸáŸÖÿßŸáŸÜ⁄Ø€å ÿ®ÿß ÿßÿØÿßÿ±Ÿá ÿ¢ŸÖŸàÿ≤ÿ¥ ÿ®ÿ±ÿß€å ÿØÿ≥ÿ™Ÿàÿ±ÿßŸÑÿπŸÖŸÑ‚ÄåŸáÿß.',
        'ÿÆŸàÿØÿßÿ±ÿ≤€åÿßÿ®€å ŸÖÿØ€åÿ± ÿßÿ≤ ÿ®ÿ±ŸÜÿßŸÖŸá‚Äåÿ±€åÿ≤€å ÿßŸàŸÑ€åŸá.'
      ],
      'ÿ¢ÿ®ÿßŸÜ': [
        'ÿ®ÿ±ÿ±ÿ≥€å ⁄Øÿ≤ÿßÿ±ÿ¥‚ÄåŸáÿß€å ÿßŸàŸÑ€åŸá ŸÖÿπŸÑŸÖÿßŸÜ (ŸÅÿ±ŸÖ ÿßŸÑŸÅ).',
        'ŸÜÿ∏ÿßÿ±ÿ™ ÿ®ÿ± ÿ´ÿ®ÿ™ ÿ®ÿßÿ≤ÿÆŸàÿ±ÿØŸáÿß€å ÿ™Ÿàÿµ€åŸÅ€å ÿØÿ± ŸæŸàÿ¥Ÿá‚ÄåŸáÿß€å ⁄©ÿßÿ±.',
        'ÿ®ÿ±⁄Øÿ≤ÿßÿ±€å ÿ¨ŸÑÿ≥Ÿá ÿ¥Ÿàÿ±ÿß€å ŸÖÿπŸÑŸÖÿßŸÜ ÿ®ÿ±ÿß€å ÿ™ÿ≠ŸÑ€åŸÑ Ÿæ€åÿ¥ÿ±ŸÅÿ™.',
        'ŸáŸÖÿßŸáŸÜ⁄Ø€å ÿ®ÿß ŸàÿßŸÑÿØ€åŸÜ ÿ®ÿ±ÿß€å ŸÖÿ¥ÿßÿ±⁄©ÿ™ ÿØÿ± €åÿßÿØ⁄Ø€åÿ±€å.',
        'ŸÜÿ∏ÿßÿ±ÿ™ ÿ®ÿ± ÿßÿ¨ÿ±ÿß€å ŸÅÿπÿßŸÑ€åÿ™‚ÄåŸáÿß€å ⁄Øÿ±ŸàŸá€å ÿ™ÿ±ÿ®€åÿ™€å.',
        'ÿ®ÿ±ÿ±ÿ≥€å ÿßÿ®ÿ≤ÿßÿ±Ÿáÿß€å ⁄©€åŸÅ€å ŸÖÿπŸÑŸÖÿßŸÜ (⁄Ü⁄©‚ÄåŸÑ€åÿ≥ÿ™ÿå ŸÖÿ¥ÿßŸáÿØŸá).',
        'ÿßÿØÿ∫ÿßŸÖ ŸÅÿπÿßŸÑ€åÿ™‚ÄåŸáÿß€å ŸÅÿ±ŸáŸÜ⁄Ø€å (ŸÖÿ´ŸÑ ŸáŸÅÿ™Ÿá ⁄©ÿ™ÿßÿ®) ÿ®ÿß ÿßŸáÿØÿßŸÅ ÿ¢ŸÖŸàÿ≤ÿ¥€å.',
        'ŸÖÿ≥ÿ™ŸÜÿØÿ≥ÿßÿ≤€å ÿ¥ŸàÿßŸáÿØ ŸÜÿ∏ÿßÿ±ÿ™€å ÿØÿ± ⁄Øÿ≤ÿßÿ±ÿ¥‚ÄåŸáÿß€å ŸÖÿßŸáÿßŸÜŸá.',
        'ÿ≠ŸÖÿß€åÿ™ ÿßÿ≤ ŸÖÿπŸÑŸÖÿßŸÜ ÿ®ÿ±ÿß€å ÿ®Ÿá‚Äåÿ±Ÿàÿ≤ÿ±ÿ≥ÿßŸÜ€å ÿ±Ÿàÿ¥‚ÄåŸáÿß€å ÿ™ÿØÿ±€åÿ≥.',
        'ÿßÿ±ÿ≤€åÿßÿ®€å ÿßÿ´ÿ±ÿ®ÿÆÿ¥€å ÿ¨ŸÑÿ≥ÿßÿ™ ŸàÿßŸÑÿØ€åŸÜ.',
        'ŸáŸÖÿßŸáŸÜ⁄Ø€å ÿ®ÿß ŸÖÿπÿßŸàŸÜÿßŸÜ ÿ®ÿ±ÿß€å ÿ®ÿ±ŸÜÿßŸÖŸá‚ÄåŸáÿß€å Ÿæÿ±Ÿàÿ±ÿ¥€å.',
        'ÿÆŸàÿØÿßÿ±ÿ≤€åÿßÿ®€å ŸÖÿØ€åÿ± ÿßÿ≤ ÿ™ÿπÿßŸÖŸÑ ÿ®ÿß ÿ∞€å‚ÄåŸÜŸÅÿπÿßŸÜ.'
      ],
      'ÿ¢ÿ∞ÿ±': [
        'ÿ®ÿ±ÿ±ÿ≥€å ⁄Øÿ≤ÿßÿ±ÿ¥‚ÄåŸáÿß€å ŸÖ€åÿßŸÜ‚ÄåÿØŸàÿ±Ÿá‚Äåÿß€å ŸÖÿπŸÑŸÖÿßŸÜ (ŸæŸàÿ¥Ÿá ⁄©ÿßÿ±).',
        'ŸÜÿ∏ÿßÿ±ÿ™ ÿ®ÿ± ÿßÿ±ÿßÿ¶Ÿá ÿ®ÿßÿ≤ÿÆŸàÿ±ÿØŸáÿß€å ÿ™Ÿàÿµ€åŸÅ€å ÿπŸÖŸÑ€å ÿ®Ÿá ÿØÿßŸÜÿ¥‚Äåÿ¢ŸÖŸàÿ≤ÿßŸÜ.',
        'ÿ®ÿ±⁄Øÿ≤ÿßÿ±€å ÿ¨ŸÑÿ≥Ÿá ÿ¥Ÿàÿ±ÿß€å ŸÖÿØÿ±ÿ≥Ÿá ÿ®ÿ±ÿß€å ÿ™ÿ≠ŸÑ€åŸÑ ÿØÿßÿØŸá‚ÄåŸáÿß€å Ÿæÿß€å€åÿ≤.',
        'ŸáŸÖÿßŸáŸÜ⁄Ø€å ÿ¨ŸÑÿ≥ÿßÿ™ ŸàÿßŸÑÿØ€åŸÜ ÿ®ÿ±ÿß€å ⁄Øÿ≤ÿßÿ±ÿ¥‚ÄåŸáÿß€å ÿ™Ÿàÿµ€åŸÅ€å.',
        'ŸÜÿ∏ÿßÿ±ÿ™ ÿ®ÿ± ŸÅÿπÿßŸÑ€åÿ™‚ÄåŸáÿß€å ÿ™ÿ±ÿ®€åÿ™€å (Ÿæÿ±Ÿà⁄òŸá‚ÄåŸáÿß€å ⁄Øÿ±ŸàŸá€å).',
        'ÿßÿ±ÿ≤€åÿßÿ®€å ÿßÿ®ÿ≤ÿßÿ±Ÿáÿß€å ÿßÿ±ÿ≤ÿ¥€åÿßÿ®€å ⁄©€åŸÅ€å ŸÖÿπŸÑŸÖÿßŸÜ.',
        'ŸÖÿ≥ÿ™ŸÜÿØÿ≥ÿßÿ≤€å ŸÖÿ¥ÿßŸáÿØÿßÿ™ ŸÜÿ∏ÿßÿ±ÿ™€å ÿØÿ± ÿØŸÅÿ™ÿ± ŸÖÿØ€åÿ±€åÿ™.',
        'ÿ≠ŸÖÿß€åÿ™ ÿßÿ≤ ŸÖÿπŸÑŸÖÿßŸÜ ŸÜ€åÿßÿ≤ŸÖŸÜÿØ ÿ™ŸÑÿßÿ¥ ÿ®ÿß ⁄©ÿßÿ±⁄ØÿßŸá‚ÄåŸáÿß€å ÿ¢ŸÖŸàÿ≤ÿ¥€å ÿ≥ÿßŸÜŸàŸæ.',
        'ÿßÿØÿ∫ÿßŸÖ ŸÅÿπÿßŸÑ€åÿ™‚ÄåŸáÿß€å ŸÅÿ±ŸáŸÜ⁄Ø€å ÿ®ÿß ÿßŸáÿØÿßŸÅ ÿßÿ±ÿ≤ÿ¥€åÿßÿ®€å.',
        'ÿ®ÿ±ÿ±ÿ≥€å ÿßÿ´ÿ±ÿ®ÿÆÿ¥€å ÿ®ÿ±ŸÜÿßŸÖŸá‚ÄåŸáÿß€å Ÿæÿ±Ÿàÿ±ÿ¥€å.',
        'ŸáŸÖÿßŸáŸÜ⁄Ø€å ÿ®ÿß ÿßÿØÿßÿ±Ÿá ÿ®ÿ±ÿß€å ⁄Øÿ≤ÿßÿ±ÿ¥‚ÄåŸáÿß€å ŸÖ€åÿßŸÜ€å.',
        'ÿÆŸàÿØÿßÿ±ÿ≤€åÿßÿ®€å ŸÖÿØ€åÿ± ÿßÿ≤ ŸÜÿ∏ÿßÿ±ÿ™ Ÿæÿß€å€åÿ≤€å.'
      ],
      'ÿØ€å': [
        'ÿ®ÿ±ÿ±ÿ≥€å ŸÅÿ±ŸÖ‚ÄåŸáÿß€å ÿßŸÑŸÅ ŸÜŸàÿ®ÿ™ ÿßŸàŸÑ ŸÖÿπŸÑŸÖÿßŸÜ.',
        'ŸÜ⁄òÿßÿ±ÿ™ ÿ®ÿ± ⁄©€åŸÅ€åÿ™ ÿ®ÿßÿ≤ÿÆŸàÿ±ÿØŸáÿß€å ÿ™Ÿàÿµ€åŸÅ€å (ŸÖÿ¥ÿÆÿµÿå ÿπŸÖŸÑ€å).',
        'ÿ®ÿ±⁄Øÿ≤ÿßÿ±€å ÿ¨ŸÑÿ≥Ÿá ÿ¥Ÿàÿ±ÿß€å ŸÖÿπŸÑŸÖÿßŸÜ ÿ®ÿ±ÿß€å ÿ™ÿ≠ŸÑ€åŸÑ ⁄Øÿ≤ÿßÿ±ÿ¥‚ÄåŸáÿß.',
        'ŸáŸÖÿßŸáŸÜ⁄Ø€å ÿ®ÿß ŸàÿßŸÑÿØ€åŸÜ ÿ®ÿ±ÿß€å ÿßÿ±ÿßÿ¶Ÿá ⁄Øÿ≤ÿßÿ±ÿ¥ ŸÜŸàÿ®ÿ™ ÿßŸàŸÑ.',
        'ŸÜÿ∏ÿßÿ±ÿ™ ÿ®ÿ± ŸÅÿπÿßŸÑ€åÿ™‚ÄåŸáÿß€å ÿ¨ÿ®ÿ±ÿßŸÜ€å ÿ®ÿ±ÿß€å ÿØÿßŸÜÿ¥‚Äåÿ¢ŸÖŸàÿ≤ÿßŸÜ ŸÜ€åÿßÿ≤ŸÖŸÜÿØ ÿ™ŸÑÿßÿ¥.',
        'ÿ®ÿ±ÿ±ÿ≥€å ŸÖÿ≥ÿ™ŸÜÿØÿßÿ™ ⁄©ŸÑÿßÿ≥€å (ŸæŸàÿ¥Ÿá ⁄©ÿßÿ±ÿå ⁄Ü⁄©‚ÄåŸÑ€åÿ≥ÿ™).',
        'ÿ≠ŸÖÿß€åÿ™ ÿßÿ≤ ŸÖÿπŸÑŸÖÿßŸÜ ÿ®ÿ±ÿß€å ⁄©ÿßÿ±⁄ØÿßŸá‚ÄåŸáÿß€å ÿßÿ±ÿ≤ÿ¥€åÿßÿ®€å ⁄©€åŸÅ€å ŸÇÿ±Ÿá‚ÄåÿØÿßÿ∫€å.',
        'ŸÖÿ≥ÿ™ŸÜÿØÿ≥ÿßÿ≤€å ⁄Øÿ≤ÿßÿ±ÿ¥‚ÄåŸáÿß€å ŸÜÿ∏ÿßÿ±ÿ™€å ŸÜŸàÿ®ÿ™ ÿßŸàŸÑ.',
        'ÿßÿØÿ∫ÿßŸÖ ŸÅÿπÿßŸÑ€åÿ™‚ÄåŸáÿß€å ÿ≤ŸÖÿ≥ÿ™ÿßŸÜ€å ÿ®ÿß ÿßŸáÿØÿßŸÅ ÿ™ÿ±ÿ®€åÿ™€å.',
        'ÿßÿ±ÿ≤€åÿßÿ®€å ÿßÿ´ÿ±ÿ®ÿÆÿ¥€å ÿ™ÿπÿßŸÖŸÑÿßÿ™ ÿ®ÿß ÿ∞€å‚ÄåŸÜŸÅÿπÿßŸÜ.',
        'ŸáŸÖÿßŸáŸÜ⁄Ø€å ÿ®ÿß ŸÖÿπÿßŸàŸÜÿßŸÜ ÿ®ÿ±ÿß€å ÿ®ÿ±ŸÜÿßŸÖŸá‚ÄåŸáÿß€å ÿ¨ÿ®ÿ±ÿßŸÜ€å.',
        'ÿÆŸàÿØÿßÿ±ÿ≤€åÿßÿ®€å ŸÖÿØ€åÿ± ÿßÿ≤ ŸÖÿØ€åÿ±€åÿ™ ŸÜŸàÿ®ÿ™ ÿßŸàŸÑ.'
      ],
      'ÿ®ŸáŸÖŸÜ': [
        'ŸÜÿ∏ÿßÿ±ÿ™ ÿ®ÿ± ÿßÿ¨ÿ±ÿß€å ÿ®ÿßÿ≤ÿÆŸàÿ±ÿØŸáÿß€å ŸÜŸàÿ®ÿ™ ÿßŸàŸÑ.',
        'ÿ®ÿ±ÿ±ÿ≥€å ÿ¢ÿ≤ŸÖŸàŸÜ‚ÄåŸáÿß€å ÿπŸÖŸÑ⁄©ÿ±ÿØ€å ÿ™Ÿàÿµ€åŸÅ€å ŸÖÿπŸÑŸÖÿßŸÜ.',
        'ÿ®ÿ±⁄Øÿ≤ÿßÿ±€å ÿ¨ŸÑÿ≥Ÿá ÿ¥Ÿàÿ±ÿß€å ŸÖÿØÿ±ÿ≥Ÿá ÿ®ÿ±ÿß€å ÿ™ÿ≠ŸÑ€åŸÑ Ÿæ€åÿ¥ÿ±ŸÅÿ™.',
        'ŸÜÿ∏ÿßÿ±ÿ™ ÿ®ÿ± ÿ´ÿ®ÿ™ ÿØÿßÿØŸá‚ÄåŸáÿß ÿØÿ± ÿØŸÅÿ™ÿ± ŸÖÿØ€åÿ±€åÿ™ ⁄©ŸÑÿßÿ≥.',
        'ŸáŸÖÿßŸáŸÜ⁄Ø€å ÿ®ÿß ŸàÿßŸÑÿØ€åŸÜ ÿ®ÿ±ÿß€å ŸÖÿ¥ÿßÿ±⁄©ÿ™ ŸÖÿ≥ÿ™ŸÖÿ±.',
        'ÿ≠ŸÖÿß€åÿ™ ÿßÿ≤ ŸÖÿπŸÑŸÖÿßŸÜ ÿ®ÿß ÿßÿ®ÿ≤ÿßÿ±Ÿáÿß€å ÿßŸÑ⁄©ÿ™ÿ±ŸàŸÜ€å⁄©€å (ÿ≥€åÿØÿß).',
        'ŸÖÿ≥ÿ™ŸÜÿØÿ≥ÿßÿ≤€å ÿ¥ŸàÿßŸáÿØ ŸÜÿ∏ÿßÿ±ÿ™€å ÿØÿ± ⁄Øÿ≤ÿßÿ±ÿ¥‚ÄåŸáÿß€å ŸÖÿßŸáÿßŸÜŸá.',
        'ÿ®ÿ±ŸÜÿßŸÖŸá‚Äåÿ±€åÿ≤€å ŸÅÿπÿßŸÑ€åÿ™‚ÄåŸáÿß€å ÿÆÿßŸÜ⁄Ø€å ÿ®ÿ±ÿß€å ÿ™ÿπÿ∑€åŸÑÿßÿ™.',
        'ÿßÿ±ÿ≤€åÿßÿ®€å ÿßÿ´ÿ±ÿ®ÿÆÿ¥€å ŸÅÿπÿßŸÑ€åÿ™‚ÄåŸáÿß€å ÿ™ÿ±ÿ®€åÿ™€å ⁄Øÿ±ŸàŸá€å.',
        'ŸáŸÖÿßŸáŸÜ⁄Ø€å ÿ®ÿß ÿßÿØÿßÿ±Ÿá ÿ®ÿ±ÿß€å ⁄Øÿ≤ÿßÿ±ÿ¥‚ÄåŸáÿß€å ŸÜÿ∏ÿßÿ±ÿ™€å.',
        'ÿ®ÿ±ÿ±ÿ≥€å ÿπŸÖŸÑ⁄©ÿ±ÿØ ŸÖÿπŸÑŸÖÿßŸÜ ŸÜ€åÿßÿ≤ŸÖŸÜÿØ ÿ™ŸÑÿßÿ¥.',
        'ÿÆŸàÿØÿßÿ±ÿ≤€åÿßÿ®€å ŸÖÿØ€åÿ± ÿßÿ≤ Ÿæÿ¥ÿ™€åÿ®ÿßŸÜ€å ÿ¢ŸÖŸàÿ≤ÿ¥€å.'
      ],
      'ÿßÿ≥ŸÅŸÜÿØ': [
        'ÿ®ÿ±ÿ±ÿ≥€å ÿ¨ŸÖÿπ‚Äåÿ®ŸÜÿØ€å ŸÜ€åŸÖ‚Äåÿ≥ÿßŸÑ ÿßŸàŸÑ ŸÖÿπŸÑŸÖÿßŸÜ.',
        'ŸÜÿ∏ÿßÿ±ÿ™ ÿ®ÿ± ÿßÿ±ÿßÿ¶Ÿá ÿ®ÿßÿ≤ÿÆŸàÿ±ÿØŸáÿß€å ÿ™Ÿàÿµ€åŸÅ€å Ÿæ€åÿ¥ ÿßÿ≤ ÿ™ÿπÿ∑€åŸÑÿßÿ™.',
        'ŸáŸÖÿßŸáŸÜ⁄Ø€å ÿ®ÿ±ÿß€å ÿ™⁄©ÿßŸÑ€åŸÅ ŸÜŸàÿ±Ÿàÿ≤€å ÿ™Ÿàÿµ€åŸÅ€å (ŸÇÿ±Ÿá‚ÄåÿØÿßÿ∫€å: "Ÿæ€åŸàÿ≥ÿ™⁄Ø€å ÿØÿ± ÿ™ÿπÿ∑€åŸÑÿßÿ™").',
        'ÿ®ÿ±⁄Øÿ≤ÿßÿ±€å ÿ¨ŸÑÿ≥Ÿá ŸÜŸáÿß€å€å ÿ®ÿß ŸàÿßŸÑÿØ€åŸÜ.',
        'ŸÜÿ∏ÿßÿ±ÿ™ ÿ®ÿ± ŸÖÿ≥ÿ™ŸÜÿØÿßÿ™ ⁄©ŸÑÿßÿ≥€å (ŸæŸàÿ¥Ÿá ⁄©ÿßÿ±ÿå ⁄Ü⁄©‚ÄåŸÑ€åÿ≥ÿ™).',
        'ÿßÿØÿ∫ÿßŸÖ ÿ¨ÿ¥ŸÜ‚ÄåŸáÿß€å ÿßÿ≥ŸÅŸÜÿØ ÿ®ÿß ÿßŸáÿØÿßŸÅ ÿ™ÿ±ÿ®€åÿ™€å.',
        'ÿ≠ŸÖÿß€åÿ™ ÿßÿ≤ ŸÖÿπŸÑŸÖÿßŸÜ ÿ®ÿ±ÿß€å ÿ®Ÿá‚Äåÿ±Ÿàÿ≤ÿ±ÿ≥ÿßŸÜ€å ÿßÿ®ÿ≤ÿßÿ±Ÿáÿß.',
        'ŸÖÿ≥ÿ™ŸÜÿØÿ≥ÿßÿ≤€å ⁄Øÿ≤ÿßÿ±ÿ¥‚ÄåŸáÿß€å ŸÜÿ∏ÿßÿ±ÿ™€å Ÿæÿß€åÿßŸÜ€å ŸÜ€åŸÖ‚Äåÿ≥ÿßŸÑ.',
        'ÿßÿ±ÿ≤€åÿßÿ®€å ÿßÿ´ÿ±ÿ®ÿÆÿ¥€å ÿ®ÿ±ŸÜÿßŸÖŸá‚ÄåŸáÿß€å Ÿæÿ±Ÿàÿ±ÿ¥€å.',
        'ŸáŸÖÿßŸáŸÜ⁄Ø€å ÿ®ÿß ŸÖÿπÿßŸàŸÜÿßŸÜ ÿ®ÿ±ÿß€å ÿ®ÿ±ŸÜÿßŸÖŸá‚ÄåŸáÿß€å ŸÜŸàÿ±Ÿàÿ≤€å.',
        'ÿ®ÿ±ÿ±ÿ≥€å ÿπŸÖŸÑ⁄©ÿ±ÿØ ŸÖÿπŸÑŸÖÿßŸÜ ÿØÿ± ÿßÿ±ÿ≤ÿ¥€åÿßÿ®€å ⁄©€åŸÅ€å.',
        'ÿÆŸàÿØÿßÿ±ÿ≤€åÿßÿ®€å ŸÖÿØ€åÿ± ÿßÿ≤ ÿ®ÿ±ŸÜÿßŸÖŸá‚Äåÿ±€åÿ≤€å ÿ™ÿπÿ∑€åŸÑÿßÿ™.'
      ],
      'ŸÅÿ±Ÿàÿ±ÿØ€åŸÜ': [
        'ŸÜÿ∏ÿßÿ±ÿ™ ÿ®ÿ± ÿßÿ±ÿ≤€åÿßÿ®€å‚ÄåŸáÿß€å ÿ≥ÿ±€åÿπ Ÿæÿ≥ ÿßÿ≤ ÿ™ÿπÿ∑€åŸÑÿßÿ™.',
        'ÿ®ÿ±ÿ±ÿ≥€å ŸÅÿπÿßŸÑ€åÿ™‚ÄåŸáÿß€å ÿ¨ÿ®ÿ±ÿßŸÜ€å ŸÖÿπŸÑŸÖÿßŸÜ ÿ®ÿ±ÿß€å ÿßŸÅÿ™ €åÿßÿØ⁄Ø€åÿ±€å.',
        'ÿ®ÿ±⁄Øÿ≤ÿßÿ±€å ÿ¨ŸÑÿ≥Ÿá ÿ¥Ÿàÿ±ÿß€å ŸÖÿπŸÑŸÖÿßŸÜ ÿ®ÿ±ÿß€å ÿ™ÿ≠ŸÑ€åŸÑ ÿßŸÅÿ™.',
        'ŸáŸÖÿßŸáŸÜ⁄Ø€å ÿ®ÿß ŸàÿßŸÑÿØ€åŸÜ ÿ®ÿ±ÿß€å ⁄Øÿ≤ÿßÿ±ÿ¥ ÿ™ÿ£ÿ´€åÿ± ÿ™ÿπÿ∑€åŸÑÿßÿ™.',
        'ŸÜÿ∏ÿßÿ±ÿ™ ÿ®ÿ± ÿßÿ¨ÿ±ÿß€å ŸÅÿπÿßŸÑ€åÿ™‚ÄåŸáÿß€å ÿ™€åŸÖ€å ⁄©ŸÑÿßÿ≥€å.',
        'ÿ®ÿ±ÿ±ÿ≥€å ŸÖÿ≥ÿ™ŸÜÿØÿßÿ™ ⁄©ŸÑÿßÿ≥€å (ŸæŸàÿ¥Ÿá ⁄©ÿßÿ±ÿå ⁄Ü⁄©‚ÄåŸÑ€åÿ≥ÿ™).',
        'ÿ≠ŸÖÿß€åÿ™ ÿßÿ≤ ŸÖÿπŸÑŸÖÿßŸÜ ÿ®ÿ±ÿß€å ÿ®ÿ±ŸÜÿßŸÖŸá‚ÄåŸáÿß€å Ÿæÿ±Ÿà⁄òŸá‚ÄåŸÖÿ≠Ÿàÿ±.',
        'ŸÖÿ≥ÿ™ŸÜÿØÿ≥ÿßÿ≤€å ŸÖÿ¥ÿßŸáÿØÿßÿ™ ŸÜÿ∏ÿßÿ±ÿ™€å Ÿæÿ≥ ÿßÿ≤ ÿ™ÿπÿ∑€åŸÑÿßÿ™.',
        'ÿßÿ±ÿ≤€åÿßÿ®€å ÿßÿ´ÿ±ÿ®ÿÆÿ¥€å ÿ®ÿßÿ≤ÿÆŸàÿ±ÿØŸáÿß€å ÿ™Ÿàÿµ€åŸÅ€å.',
        'ŸáŸÖÿßŸáŸÜ⁄Ø€å ÿ®ÿß ÿßÿØÿßÿ±Ÿá ÿ®ÿ±ÿß€å ÿ®ÿ±ŸÜÿßŸÖŸá‚ÄåŸáÿß€å ÿ¨ÿ®ÿ±ÿßŸÜ€å.',
        'ÿ®ÿ±ÿ±ÿ≥€å ÿπŸÖŸÑ⁄©ÿ±ÿØ ŸÖÿπŸÑŸÖÿßŸÜ ÿØÿ± ÿ¨ÿ®ÿ±ÿßŸÜ ÿßŸÅÿ™.',
        'ÿÆŸàÿØÿßÿ±ÿ≤€åÿßÿ®€å ŸÖÿØ€åÿ± ÿßÿ≤ ŸÖÿØ€åÿ±€åÿ™ ŸÜ€åŸÖ‚Äåÿ≥ÿßŸÑ ÿØŸàŸÖ.'
      ],
      'ÿßÿ±ÿØ€åÿ®Ÿáÿ¥ÿ™': [
        'ÿ®ÿ±ÿ±ÿ≥€å ŸÅÿ±ŸÖ‚ÄåŸáÿß€å ÿßŸÑŸÅ ŸÜŸàÿ®ÿ™ ÿØŸàŸÖ ŸÖÿπŸÑŸÖÿßŸÜ (€∑-€±€¥ ÿßÿ±ÿØ€åÿ®Ÿáÿ¥ÿ™).',
        'ŸÜÿ∏ÿßÿ±ÿ™ ÿ®ÿ± ⁄©€åŸÅ€åÿ™ ÿ®ÿßÿ≤ÿÆŸàÿ±ÿØŸáÿß€å ÿ™Ÿàÿµ€åŸÅ€å Ÿæÿß€åÿßŸÜ€å.',
        'ÿ®ÿ±⁄Øÿ≤ÿßÿ±€å ÿ¨ŸÑÿ≥Ÿá ÿ¥Ÿàÿ±ÿß€å ŸÖÿØÿ±ÿ≥Ÿá ÿ®ÿ±ÿß€å ÿ¨ŸÖÿπ‚Äåÿ®ŸÜÿØ€å ÿ≥ÿßŸÑ.',
        'ŸáŸÖÿßŸáŸÜ⁄Ø€å ÿ¨ŸÑÿ≥ÿßÿ™ ÿßŸÜÿ™ŸÇÿßŸÑ ÿ®Ÿá Ÿæÿß€åŸá ÿ®ÿπÿØ€å ÿ®ÿß ŸàÿßŸÑÿØ€åŸÜ.',
        'ŸÜÿ∏ÿßÿ±ÿ™ ÿ®ÿ± ŸÖÿ≥ÿ™ŸÜÿØÿßÿ™ ⁄©ŸÑÿßÿ≥€å (ŸæŸàÿ¥Ÿá ⁄©ÿßÿ±ÿå ⁄Ü⁄©‚ÄåŸÑ€åÿ≥ÿ™).',
        'ÿ≠ŸÖÿß€åÿ™ ÿßÿ≤ ŸÖÿπŸÑŸÖÿßŸÜ ÿ®ÿ±ÿß€å Ÿæ€åÿ¥ŸÜŸáÿßÿØŸáÿß€å ÿ™ÿßÿ®ÿ≥ÿ™ÿßŸÜ€å.',
        'ŸÖÿ≥ÿ™ŸÜÿØÿ≥ÿßÿ≤€å ⁄Øÿ≤ÿßÿ±ÿ¥‚ÄåŸáÿß€å ŸÜÿ∏ÿßÿ±ÿ™€å ŸÜŸàÿ®ÿ™ ÿØŸàŸÖ.',
        'ÿßÿ±ÿ≤€åÿßÿ®€å ÿßÿ´ÿ±ÿ®ÿÆÿ¥€å ŸÅÿπÿßŸÑ€åÿ™‚ÄåŸáÿß€å ÿ™ÿ±ÿ®€åÿ™€å ÿ≥ÿßŸÑ.',
        'ŸáŸÖÿßŸáŸÜ⁄Ø€å ÿ®ÿß ŸÖÿπÿßŸàŸÜÿßŸÜ ÿ®ÿ±ÿß€å ⁄Øÿ≤ÿßÿ±ÿ¥‚ÄåŸáÿß€å Ÿæÿß€åÿßŸÜ€å.',
        'ÿ®ÿ±ÿ±ÿ≥€å ÿπŸÖŸÑ⁄©ÿ±ÿØ ŸÖÿπŸÑŸÖÿßŸÜ ÿØÿ± ÿßÿ±ÿ≤ÿ¥€åÿßÿ®€å Ÿæÿß€åÿßŸÜ€å.',
        'ÿßÿØÿ∫ÿßŸÖ ŸÅÿπÿßŸÑ€åÿ™‚ÄåŸáÿß€å ÿÆŸÑÿßŸÇ ÿ®ÿß ÿßŸáÿØÿßŸÅ ÿ¢ŸÖŸàÿ≤ÿ¥€å.',
        'ÿÆŸàÿØÿßÿ±ÿ≤€åÿßÿ®€å ŸÖÿØ€åÿ± ÿßÿ≤ ÿπŸÖŸÑ⁄©ÿ±ÿØ ÿ≥ÿßŸÑÿßŸÜŸá.'
      ],
      'ÿÆÿ±ÿØÿßÿØ': [
        'ÿ®ÿ±ÿ±ÿ≥€å Ÿà ÿ™ÿ£€å€åÿØ ŸÅÿ±ŸÖ‚ÄåŸáÿß€å ÿßŸÑŸÅ ŸÜŸàÿ®ÿ™ ÿØŸàŸÖ.',
        'ŸÜÿ∏ÿßÿ±ÿ™ ÿ®ÿ± ÿµÿØŸàÿ± ⁄Øÿ≤ÿßÿ±ÿ¥‚ÄåŸáÿß€å ÿ™Ÿàÿµ€åŸÅ€å ÿ®Ÿá ŸàÿßŸÑÿØ€åŸÜ.',
        'ÿ®ÿ±⁄Øÿ≤ÿßÿ±€å ÿ¨ŸÑÿ≥ÿßÿ™ ÿ¥Ÿàÿ±ÿß€å ŸÖÿØÿ±ÿ≥Ÿá ÿ®ÿ±ÿß€å ÿ™ÿ≠ŸÑ€åŸÑ ÿπŸÖŸÑ⁄©ÿ±ÿØ ÿ≥ÿßŸÑÿßŸÜŸá.',
        'ŸáŸÖÿßŸáŸÜ⁄Ø€å ÿßŸÜÿ™ŸÇÿßŸÑ ÿØÿßŸÜÿ¥‚Äåÿ¢ŸÖŸàÿ≤ÿßŸÜ ÿ®Ÿá Ÿæÿß€åŸá‚ÄåŸáÿß€å ÿ®ÿßŸÑÿßÿ™ÿ±.',
        'ÿ™ÿ¥⁄©€åŸÑ ÿ≥ÿ™ÿßÿØ ÿ´ÿ®ÿ™‚ÄåŸÜÿßŸÖ Ÿæÿ≥ ÿßÿ≤ ÿßÿ®ŸÑÿßÿ∫ ÿßŸàÿßÿ≥ÿ∑ ÿÆÿ±ÿØÿßÿØ.',
        'ÿ™Ÿá€åŸá ⁄Øÿ≤ÿßÿ±ÿ¥ ÿπŸÖŸÑ⁄©ÿ±ÿØ ÿ≥ÿßŸÑÿßŸÜŸá ÿ®ÿ±ÿß€å ÿßÿØÿßÿ±Ÿá ÿ¢ŸÖŸàÿ≤ÿ¥ Ÿà Ÿæÿ±Ÿàÿ±ÿ¥.',
        'ÿ≠ŸÖÿß€åÿ™ ÿßÿ≤ ŸÖÿπŸÑŸÖÿßŸÜ ÿ®ÿ±ÿß€å ÿ™⁄©ŸÖ€åŸÑ Ÿæÿ±ŸàŸÜÿØŸá‚ÄåŸáÿß€å ÿ¢ŸÖŸàÿ≤ÿ¥€å.',
        'ŸÖÿ≥ÿ™ŸÜÿØÿ≥ÿßÿ≤€å ÿ¥ŸàÿßŸáÿØ ÿßÿ±ÿ≤ÿ¥€åÿßÿ®€å ⁄©€åŸÅ€å ÿØÿ± ÿ≥ÿßŸÖÿßŸÜŸá‚ÄåŸáÿß.',
        'ÿßÿ±ÿ≤€åÿßÿ®€å ÿßÿ´ÿ±ÿ®ÿÆÿ¥€å ÿ®ÿ±ŸÜÿßŸÖŸá‚ÄåŸáÿß€å ÿ™ÿ±ÿ®€åÿ™€å ÿ≥ÿßŸÑÿßŸÜŸá.',
        'ŸáŸÖÿßŸáŸÜ⁄Ø€å ÿ®ÿß ŸàÿßŸÑÿØ€åŸÜ ÿ®ÿ±ÿß€å ÿ¨ŸÑÿ≥ÿßÿ™ Ÿæÿß€åÿßŸÜ€å Ÿà ÿ®ÿßÿ≤ÿÆŸàÿ±ÿØ.',
        'ÿÆŸàÿØÿßÿ±ÿ≤€åÿßÿ®€å ŸÖÿØ€åÿ± ÿßÿ≤ ÿßÿ¨ÿ±ÿß€å ÿßÿ±ÿ≤ÿ¥€åÿßÿ®€å ⁄©€åŸÅ€å.',
        'ÿ®ÿ±ŸÜÿßŸÖŸá‚Äåÿ±€åÿ≤€å ÿ®ÿ±ÿß€å ÿ´ÿ®ÿ™‚ÄåŸÜÿßŸÖ Ÿà ÿ™ÿπŸÖ€åÿ±ÿßÿ™ ÿ™ÿßÿ®ÿ≥ÿ™ÿßŸÜ€å.'
      ],
      'ÿ™€åÿ±': [
        'ŸÜÿ∏ÿßÿ±ÿ™ ÿ®ÿ± ÿ™ÿπŸÖ€åÿ±ÿßÿ™ ŸÅ€åÿ≤€å⁄©€å ŸÖÿØÿ±ÿ≥Ÿá (ŸÜÿ∏ÿßŸÅÿ™ÿå ÿß€åŸÖŸÜ€å ÿ™ÿ¨Ÿá€åÿ≤ÿßÿ™).',
        'ÿ¢ÿ∫ÿßÿ≤ ŸÅÿ±ÿ¢€åŸÜÿØ ÿ´ÿ®ÿ™‚ÄåŸÜÿßŸÖ ŸÖÿ∑ÿßÿ®ŸÇ ÿØÿ≥ÿ™Ÿàÿ±ÿßŸÑÿπŸÖŸÑ (ÿßÿ≤ €± ÿ™€åÿ±ÿå ÿ®ÿß ÿ≥ŸÜÿ¨ÿ¥ ÿ≥ŸÑÿßŸÖÿ™).',
        'ÿ®ÿ±ÿ±ÿ≥€å ÿØÿ±ÿÆŸàÿßÿ≥ÿ™‚ÄåŸáÿß€å ÿ™ÿ∫€å€åÿ± ŸÖÿØ€åÿ±ÿßŸÜ (⁄©ÿßÿ±⁄Øÿ±ŸàŸá ÿßŸÜÿ™ÿÆÿßÿ®).',
        'ÿ®ÿ±⁄Øÿ≤ÿßÿ±€å ÿ¨ŸÑÿ≥ÿßÿ™ ÿ≥ÿ™ÿßÿØ ÿ´ÿ®ÿ™‚ÄåŸÜÿßŸÖ (ÿØŸàÿ¥ŸÜÿ®Ÿá/⁄ÜŸáÿßÿ±ÿ¥ŸÜÿ®Ÿá).',
        'ŸáŸÖÿßŸáŸÜ⁄Ø€å ÿ®ÿß ÿßÿØÿßÿ±Ÿá ÿ®ÿ±ÿß€å ÿ™ÿÆÿµ€åÿµ ÿ®ŸàÿØÿ¨Ÿá ÿ™ÿπŸÖ€åÿ±ÿßÿ™ Ÿà ÿ´ÿ®ÿ™‚ÄåŸÜÿßŸÖ.',
        'ŸÖÿ≥ÿ™ŸÜÿØÿ≥ÿßÿ≤€å ⁄Øÿ≤ÿßÿ±ÿ¥‚ÄåŸáÿß€å ŸÜÿ∏ÿßÿ±ÿ™€å ÿ™ÿßÿ®ÿ≥ÿ™ÿßŸÜ€å ÿØÿ± ÿ≥ÿßŸÖÿßŸÜŸá‚ÄåŸáÿß.',
        'ÿ≠ŸÖÿß€åÿ™ ÿßÿ≤ ŸÖÿπŸÑŸÖÿßŸÜ ÿØÿ± ÿØŸàÿ±Ÿá‚ÄåŸáÿß€å ÿ∂ŸÖŸÜ‚ÄåÿÆÿØŸÖÿ™ ÿ™ÿßÿ®ÿ≥ÿ™ÿßŸÜ€å.',
        'ÿßÿ±ÿ≤€åÿßÿ®€å ÿßÿ®ÿ≤ÿßÿ±Ÿáÿß€å ÿßÿ±ÿ≤ÿ¥€åÿßÿ®€å ÿ®ÿ±ÿß€å ÿ≥ÿßŸÑ ÿ™ÿ≠ÿµ€åŸÑ€å ÿ¨ÿØ€åÿØ.',
        'ÿßÿØÿ∫ÿßŸÖ ŸÅÿπÿßŸÑ€åÿ™‚ÄåŸáÿß€å ÿ™ÿßÿ®ÿ≥ÿ™ÿßŸÜ€å ÿ®ÿß ÿßŸáÿØÿßŸÅ ÿ™ÿ±ÿ®€åÿ™€å.',
        'ÿ™ÿπÿßŸÖŸÑ ÿ®ÿß ŸàÿßŸÑÿØ€åŸÜ ÿ®ÿ±ÿß€å ÿßÿ∑ŸÑÿßÿπ‚Äåÿ±ÿ≥ÿßŸÜ€å ŸÅÿ±ÿ¢€åŸÜÿØ ÿ´ÿ®ÿ™‚ÄåŸÜÿßŸÖ.',
        'ÿÆŸàÿØÿßÿ±ÿ≤€åÿßÿ®€å ŸÖÿØ€åÿ± ÿßÿ≤ ŸÖÿØ€åÿ±€åÿ™ ÿ™ÿßÿ®ÿ≥ÿ™ÿßŸÜ€å.',
        'ÿ™Ÿá€åŸá Ÿæ€åÿ¥‚ÄåŸÜŸà€åÿ≥ ÿ®ÿ±ŸÜÿßŸÖŸá ÿ≥ÿßŸÑ ÿ™ÿ≠ÿµ€åŸÑ€å ÿ¨ÿØ€åÿØ.'
      ],
      'ŸÖÿ±ÿØÿßÿØ': [
        'ŸÜÿ∏ÿßÿ±ÿ™ ÿ®ÿ± ÿ™⁄©ŸÖ€åŸÑ ÿ´ÿ®ÿ™‚ÄåŸÜÿßŸÖ ÿ™ÿß €±€µ ŸÖÿ±ÿØÿßÿØ (ŸÖÿ∑ÿßÿ®ŸÇ ÿØÿ≥ÿ™Ÿàÿ±ÿßŸÑÿπŸÖŸÑ).',
        'ÿ®ÿ±ÿ±ÿ≥€å Ÿà ÿ™ÿ£€å€åÿØ ÿßÿ≥ŸÜÿßÿØ ÿ´ÿ®ÿ™‚ÄåŸÜÿßŸÖ Ÿà ŸÜŸÇŸÑ‚ÄåŸàÿßŸÜÿ™ŸÇÿßŸÑ ÿØÿßŸÜÿ¥‚Äåÿ¢ŸÖŸàÿ≤ÿßŸÜ.',
        'ÿ®ÿ±⁄Øÿ≤ÿßÿ±€å ÿ¨ŸÑÿ≥ÿßÿ™ ÿ≥ÿ™ÿßÿØ ÿ´ÿ®ÿ™‚ÄåŸÜÿßŸÖ (ÿØŸàÿ¥ŸÜÿ®Ÿá/⁄ÜŸáÿßÿ±ÿ¥ŸÜÿ®Ÿá).',
        'ŸáŸÖÿßŸáŸÜ⁄Ø€å ÿ®ÿß ÿßÿØÿßÿ±Ÿá ÿ®ÿ±ÿß€å ÿßÿ®ŸÑÿßÿ∫ ŸÖÿØ€åÿ±ÿßŸÜ ÿ¨ÿØ€åÿØ (ÿ™ÿß Ÿæÿß€åÿßŸÜ ŸÖÿ±ÿØÿßÿØ).',
        'ŸÜÿ∏ÿßÿ±ÿ™ ÿ®ÿ± ÿ™ÿπŸÖ€åÿ±ÿßÿ™ Ÿæ€åÿ¥ÿ±ŸÅÿ™Ÿá (ÿ™ÿ¨Ÿá€åÿ≤ÿßÿ™ ÿ¢ŸÖŸàÿ≤ÿ¥€åÿå ŸÅÿ∂ÿß€å ÿ≥ÿ®ÿ≤).',
        'ŸÖÿ≥ÿ™ŸÜÿØÿ≥ÿßÿ≤€å ⁄Øÿ≤ÿßÿ±ÿ¥‚ÄåŸáÿß€å ÿ´ÿ®ÿ™‚ÄåŸÜÿßŸÖ ÿØÿ± ÿ≥ÿßŸÖÿßŸÜŸá ÿ≥€åÿØÿß.',
        'ÿ≠ŸÖÿß€åÿ™ ÿßÿ≤ ÿØŸàÿ±Ÿá‚ÄåŸáÿß€å ÿ¢ŸÖŸàÿ≤ÿ¥€å ŸÖÿØ€åÿ±ÿßŸÜ (ÿßŸÑ⁄ØŸà€å ŸÖÿØÿ±ÿ≥Ÿá ÿ™ÿ±ÿßÿ≤).',
        'ÿ®Ÿá‚Äåÿ±Ÿàÿ≤ÿ±ÿ≥ÿßŸÜ€å ÿßÿ®ÿ≤ÿßÿ±Ÿáÿß€å ÿßÿ±ÿ≤ÿ¥€åÿßÿ®€å ⁄©€åŸÅ€å ÿ®ÿ±ÿß€å ÿ≥ÿßŸÑ ÿ¨ÿØ€åÿØ.',
        'ÿ®ÿ±ŸÜÿßŸÖŸá‚Äåÿ±€åÿ≤€å ŸÅÿπÿßŸÑ€åÿ™‚ÄåŸáÿß€å Ÿæÿ±Ÿàÿ±ÿ¥€å ÿ™ÿßÿ®ÿ≥ÿ™ÿßŸÜ€å.',
        'ÿ™ÿπÿßŸÖŸÑ ÿ®ÿß ÿßŸÜÿ¨ŸÖŸÜ ÿßŸàŸÑ€åÿß ÿ®ÿ±ÿß€å ŸÖÿ¥ÿßÿ±⁄©ÿ™ ÿØÿ± ÿ´ÿ®ÿ™‚ÄåŸÜÿßŸÖ.',
        'ÿÆŸàÿØÿßÿ±ÿ≤€åÿßÿ®€å ŸÖÿØ€åÿ± ÿßÿ≤ ŸÖÿØ€åÿ±€åÿ™ ÿßÿØÿßÿ±€å ÿ™ÿßÿ®ÿ≥ÿ™ÿßŸÜ€å.',
        'ÿ™Ÿá€åŸá ÿ®ŸàÿØÿ¨Ÿá Ÿæ€åÿ¥ŸÜŸáÿßÿØ€å ÿ®ÿ±ÿß€å ÿ≥ÿßŸÑ ÿ™ÿ≠ÿµ€åŸÑ€å ÿ¨ÿØ€åÿØ.'
      ],
      'ÿ¥Ÿáÿ±€åŸàÿ±': [
        'ÿ®ÿ±ÿ±ÿ≥€å ŸÜÿ™ÿß€åÿ¨ ÿßŸÜÿ™ÿÆÿßÿ® ŸÖÿØ€åÿ±ÿßŸÜ Ÿà ÿßÿ±ÿ≤ÿ¥€åÿßÿ®€å ⁄©ÿßÿØÿ± (ÿ™ÿß €±€µ ÿ¥Ÿáÿ±€åŸàÿ±).',
        'ŸÜÿ∏ÿßÿ±ÿ™ ÿ®ÿ± ÿ¢ŸÖÿßÿØŸá‚Äåÿ≥ÿßÿ≤€å ŸÅ€åÿ≤€å⁄©€å ŸÖÿØÿ±ÿ≥Ÿá ÿ®ÿ±ÿß€å ÿ®ÿßÿ≤⁄Øÿ¥ÿß€å€å.',
        'ÿ®ÿ±⁄Øÿ≤ÿßÿ±€å ÿ¨ŸÑÿ≥Ÿá ŸÖÿπÿßÿ±ŸÅŸá ŸÖÿØ€åÿ±ÿßŸÜ ÿ¨ÿØ€åÿØ ÿ®ÿß ÿ¥Ÿàÿ±ÿß€å ŸÖÿπŸÑŸÖÿßŸÜ.',
        'ŸáŸÖÿßŸáŸÜ⁄Ø€å ÿ´ÿ®ÿ™‚ÄåŸÜÿßŸÖ ŸÜŸáÿß€å€å ÿØÿßŸÜÿ¥‚Äåÿ¢ŸÖŸàÿ≤ÿßŸÜ.',
        'ŸÜÿ∏ÿßÿ±ÿ™ ÿ®ÿ± ÿ™ÿ¥⁄©€åŸÑ ÿ¥Ÿàÿ±ÿßŸáÿß€å ŸÖÿØÿ±ÿ≥Ÿá ÿ®ÿ±ÿß€å ŸÖŸáÿ±.',
        'ŸÖÿ≥ÿ™ŸÜÿØÿ≥ÿßÿ≤€å ⁄Øÿ≤ÿßÿ±ÿ¥‚ÄåŸáÿß€å ÿ™ÿßÿ®ÿ≥ÿ™ÿßŸÜ€å Ÿà ÿßÿ±ÿ≥ÿßŸÑ ÿ®Ÿá ÿßÿØÿßÿ±Ÿá.',
        'ÿ≠ŸÖÿß€åÿ™ ÿßÿ≤ ŸÖÿπŸÑŸÖÿßŸÜ ÿØÿ± ÿ¢ŸÖŸàÿ≤ÿ¥ ÿ≥ÿßÿ≤⁄Øÿßÿ±€å (€±-€¥ ÿ¥Ÿáÿ±€åŸàÿ±).',
        'ÿßÿ±ÿ≤€åÿßÿ®€å ÿßÿ´ÿ±ÿ®ÿÆÿ¥€å ÿ™ÿπŸÖ€åÿ±ÿßÿ™ Ÿà ŸÖŸÜÿßÿ®ÿπ ÿ¢ŸÖŸàÿ≤ÿ¥€å.',
        'ÿßÿØÿ∫ÿßŸÖ ÿ®ÿ±ŸÜÿßŸÖŸá‚ÄåŸáÿß€å ŸÅÿ±ŸáŸÜ⁄Ø€å (ŸÖÿ±ÿßÿ≥ŸÖ ÿ®ÿßÿ≤⁄Øÿ¥ÿß€å€å) ÿ®ÿß ÿßŸáÿØÿßŸÅ ÿ™ÿ±ÿ®€åÿ™€å.',
        'ÿ™ÿπÿßŸÖŸÑ ÿ®ÿß ŸàÿßŸÑÿØ€åŸÜ ÿ®ÿ±ÿß€å ÿ¨ŸÑÿ≥Ÿá ÿ™Ÿàÿ¨€åŸá€å Ÿæ€åÿ¥ ÿßÿ≤ ŸÖŸáÿ±.',
        'ÿÆŸàÿØÿßÿ±ÿ≤€åÿßÿ®€å ŸÖÿØ€åÿ± ÿßÿ≤ ÿ¢ŸÖÿßÿØŸá‚Äåÿ≥ÿßÿ≤€å ÿ≥ÿßŸÑ ÿ¨ÿØ€åÿØ Ÿà ÿßÿ±ÿ≤ÿ¥€åÿßÿ®€å ⁄©ÿßÿØÿ±.',
        'ÿßÿ®ŸÑÿßÿ∫ ÿ®ÿ±ŸÜÿßŸÖŸá ŸáŸÅÿ™⁄Ø€å Ÿà ŸÖŸÇÿ±ÿ±ÿßÿ™ ÿßŸÜÿ∂ÿ®ÿßÿ∑€å ÿ®ÿ±ÿß€å ŸÖŸáÿ±.'
      ]
    };

    // ŸÜŸÖÿ±Ÿá‚ÄåŸáÿß€å ÿπÿØÿØ€å ÿ®ÿ±ÿß€å ŸÖÿ≠ÿßÿ≥ÿ®Ÿá
    const scoreValues = {
      'ÿπÿßŸÑ€å': 4,
      'ÿÆŸàÿ®': 3,
      'ŸÖÿ™Ÿàÿ≥ÿ∑': 2,
      'ŸÜ€åÿßÿ≤ŸÖŸÜÿØ ÿ™ŸÑÿßÿ¥': 1
    };

    // ÿ±ŸÜ⁄Ø‚ÄåŸáÿß€å ÿ®ÿ±ÿß€å ÿ≥ÿ™ŸàŸÜ‚ÄåŸáÿß€å ŸÜŸÖŸàÿØÿßÿ±
    const chartColors = [
      '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40',
      '#E57373', '#64B5F6', '#FFD54F', '#4DD0E1', '#B39DDB', '#FFAB91'
    ];

    let currentMonth = null;

    // Ÿæ€åÿßŸÖ ÿÆŸàÿ¥‚Äåÿ¢ŸÖÿØ⁄ØŸà€å€å Ÿà ÿ™ŸÜÿ∏€åŸÖÿßÿ™ ÿßŸàŸÑ€åŸá
    window.onload = function() {
      Swal.fire({
        icon: 'info',
        title: 'ÿÆŸàÿ¥‚Äåÿ¢ŸÖÿØ⁄ØŸà€å€å',
        html: 'ŸÑÿ∑ŸÅÿßŸã ŸÅÿ±ŸÖ ÿ±ÿß ÿ®ÿß ÿØŸÇÿ™ Ÿæÿ± ⁄©ŸÜ€åÿØ. ÿ®ÿ±ÿß€å ÿ∞ÿÆ€åÿ±Ÿá ÿØÿßÿØŸá‚ÄåŸáÿß ÿßÿ≤ ÿØ⁄©ŸÖŸá "ÿ∞ÿÆ€åÿ±Ÿá ŸÅÿ±ŸÖ" ÿßÿ≥ÿ™ŸÅÿßÿØŸá ⁄©ŸÜ€åÿØ.<br>ÿ®ÿ±ÿß€å ÿ±ÿßŸáŸÜŸÖÿß€å€åÿå ÿßÿ≤ ÿØ⁄©ŸÖŸá "ÿ±ÿßŸáŸÜŸÖÿß€å ÿ™ÿπÿßŸÖŸÑ€å" ÿßÿ≥ÿ™ŸÅÿßÿØŸá ⁄©ŸÜ€åÿØ.',
        confirmButtonText: 'ÿ®ÿßÿ¥Ÿá'
      });

      // ÿ™ÿ®ÿØ€åŸÑ ÿ™ÿßÿ±€åÿÆ ŸÖ€åŸÑÿßÿØ€å ÿ®Ÿá ÿ¥ŸÖÿ≥€å
      document.getElementById('date').addEventListener('change', function() {
        const date = this.value;
        if (date) {
          const persianDate = moment(date).locale('fa').format('YYYY/MM/DD');
          document.getElementById('persian_date').value = persianDate;
        } else {
          document.getElementById('persian_date').value = '';
        }
        saveForm();
      });

      // ÿ®ÿßÿ±⁄Øÿ∞ÿßÿ±€å ŸÑ€åÿ≥ÿ™ ŸÅÿ±ŸÖ‚ÄåŸáÿß€å ÿ∞ÿÆ€åÿ±Ÿá‚Äåÿ¥ÿØŸá
      loadFormList();

      // ÿ¨ÿ≥ÿ™ÿ¨Ÿà€å Ÿæ€åÿ¥ÿ±ŸÅÿ™Ÿá
      document.getElementById('search_form').addEventListener('input', filterForms);

      // ÿßÿπÿ™ÿ®ÿßÿ±ÿ≥ŸÜÿ¨€å ⁄©ÿØ Ÿæÿ±ÿ≥ŸÜŸÑ€å
      document.getElementById('personnel_code').addEventListener('input', function() {
        this.value = this.value.replace(/[^0-9]/g, '');
        if (this.value.length > 8) {
          this.value = this.value.slice(0, 8);
          Swal.fire({
            icon: 'warning',
            title: 'Ÿáÿ¥ÿØÿßÿ±',
            text: '⁄©ÿØ Ÿæÿ±ÿ≥ŸÜŸÑ€å ÿ®ÿß€åÿØ €∏ ÿ±ŸÇŸÖ ÿ®ÿßÿ¥ÿØ.',
          });
        }
        saveForm();
      });

      // ÿß€åÿ¨ÿßÿØ ÿØ⁄©ŸÖŸá‚ÄåŸáÿß€å ŸÖÿßŸá
      const monthGrid = document.getElementById('month_buttons');
      Object.keys(monthAxes).forEach(month => {
        const button = document.createElement('button');
        button.className = 'month-btn';
        button.textContent = month;
        button.onclick = () => selectMonth(month);
        monthGrid.appendChild(button);
      });

      // ŸÜŸÖÿß€åÿ¥ ŸÜŸÖŸàÿØÿßÿ± ÿßŸàŸÑ€åŸá
      updateChart();
    };

    // ÿ™ÿßÿ®ÿπ ÿßŸÜÿ™ÿÆÿßÿ® ŸÖÿßŸá
    function selectMonth(month) {
      currentMonth = month;
      document.querySelectorAll('.month-btn').forEach(btn => {
        btn.classList.toggle('active', btn.textContent === month);
      });
      loadMonthAxes();
    }

    // ÿ™ÿßÿ®ÿπ ÿ®ÿßÿ±⁄Øÿ∞ÿßÿ±€å ŸÑ€åÿ≥ÿ™ ŸÅÿ±ŸÖ‚ÄåŸáÿß
    function loadFormList() {
      const select = document.getElementById('load_form_select');
      select.innerHTML = '<option value="">-- Ÿá€å⁄Ü‚Äå⁄©ÿØÿßŸÖ --</option>';
      const personnelCodes = {};
      Object.keys(localStorage).filter(key => key.startsWith('primary_inspection_form_')).forEach(key => {
        const formData = JSON.parse(localStorage.getItem(key));
        let displayName = `${formData.manager} - ${formData.persian_date} - ${formData.personnel_code}`;
        const code = formData.personnel_code;
        if (personnelCodes[code]) {
          personnelCodes[code]++;
          displayName += ` (${personnelCodes[code]})`;
        } else {
          personnelCodes[code] = 1;
        }
        const option = document.createElement('option');
        option.value = key;
        option.textContent = displayName;
        select.appendChild(option);
      });
    }

    // ÿ™ÿßÿ®ÿπ ÿ¨ÿ≥ÿ™ÿ¨Ÿà€å Ÿæ€åÿ¥ÿ±ŸÅÿ™Ÿá
    function filterForms() {
      const searchValue = document.getElementById('search_form').value.toLowerCase();
      const select = document.getElementById('load_form_select');
      select.innerHTML = '<option value="">-- Ÿá€å⁄Ü‚Äå⁄©ÿØÿßŸÖ --</option>';
      const personnelCodes = {};
      Object.keys(localStorage).filter(key => key.startsWith('primary_inspection_form_')).forEach(key => {
        const formData = JSON.parse(localStorage.getItem(key));
        const searchString = `${formData.manager} ${formData.personnel_code} ${formData.persian_date}`.toLowerCase();
        if (searchString.includes(searchValue)) {
          let displayName = `${formData.manager} - ${formData.persian_date} - ${formData.personnel_code}`;
          const code = formData.personnel_code;
          if (personnelCodes[code]) {
            personnelCodes[code]++;
            displayName += ` (${personnelCodes[code]})`;
          } else {
            personnelCodes[code] = 1;
          }
          const option = document.createElement('option');
          option.value = key;
          option.textContent = displayName;
          select.appendChild(option);
        }
      });
    }

    // ÿ™ÿßÿ®ÿπ ÿ™ÿ∫€å€åÿ± ÿ≠ÿßŸÑÿ™ ÿ™ÿßÿ±€å⁄©
    document.getElementById('toggleDarkMode').addEventListener('click', function() {
      document.body.classList.toggle('dark-mode');
      document.querySelectorAll('.card, .average, .footer, th, td, label').forEach(el => el.classList.toggle('dark-mode'));
      this.textContent = document.body.classList.contains('dark-mode') ? 'ÿ™ÿ∫€å€åÿ± ÿ®Ÿá ÿ≠ÿßŸÑÿ™ ÿ±Ÿàÿ¥ŸÜ' : 'ÿ™ÿ∫€å€åÿ± ÿ®Ÿá ÿ≠ÿßŸÑÿ™ ÿ™ÿßÿ±€å⁄©';
    });

    // ÿ™ÿßÿ®ÿπ ŸÑŸàÿØ ŸÖÿ≠Ÿàÿ±Ÿáÿß€å ŸÖÿßŸá
    function loadMonthAxes() {
      if (!currentMonth) {
        document.getElementById('month_title').textContent = 'ŸÖÿ≠Ÿàÿ±Ÿáÿß€å ÿ®ÿßÿ≤ÿØ€åÿØ ŸÖÿßŸá ÿßŸÜÿ™ÿÆÿßÿ®‚Äåÿ¥ÿØŸá';
        document.getElementById('axes_table_body').innerHTML = '';
        document.getElementById('month_avg').textContent = '0';
        return;
      }

      document.getElementById('month_title').textContent = `ŸÖÿ≠Ÿàÿ±Ÿáÿß€å ÿ®ÿßÿ≤ÿØ€åÿØ ŸÖÿßŸá ${currentMonth}`;
      const axes = monthAxes[currentMonth] || [];
      let tableBody = '';
      axes.forEach((axis, index) => {
        tableBody += `
          <tr>
            <td>${index + 1}</td>
            <td>${axis}</td>
            <td><textarea rows="2" class="month_comment" data-month="${currentMonth}" data-index="${index}" oninput="saveForm()"></textarea></td>
            <td>
              <select class="month_score" data-month="${currentMonth}" data-index="${index}" onchange="calculateMonthAvg(); saveForm()">
                <option value="">ÿßŸÜÿ™ÿÆÿßÿ®</option>
                <option value="ÿπÿßŸÑ€å">ÿπÿßŸÑ€å</option>
                <option value="ÿÆŸàÿ®">ÿÆŸàÿ®</option>
                <option value="ŸÖÿ™Ÿàÿ≥ÿ∑">ŸÖÿ™Ÿàÿ≥ÿ∑</option>
                <option value="ŸÜ€åÿßÿ≤ŸÖŸÜÿØ ÿ™ŸÑÿßÿ¥">ŸÜ€åÿßÿ≤ŸÖŸÜÿØ ÿ™ŸÑÿßÿ¥</option>
              </select>
            </td>
          </tr>
        `;
      });
      document.getElementById('axes_table_body').innerHTML = tableBody;

      // ŸÑŸàÿØ ÿØÿßÿØŸá‚ÄåŸáÿß€å ŸÇÿ®ŸÑ€å ÿß⁄Øÿ± Ÿàÿ¨ŸàÿØ ÿØÿßÿ¥ÿ™Ÿá ÿ®ÿßÿ¥ÿØ
      const formData = getCurrentFormData();
      if (formData && formData.months && formData.months[currentMonth]) {
        const scores = formData.months[currentMonth].scores || [];
        const comments = formData.months[currentMonth].comments || [];
        document.querySelectorAll('.month_score').forEach((select, index) => {
          select.value = scores[index] || '';
        });
        document.querySelectorAll('.month_comment').forEach((textarea, index) => {
          textarea.value = comments[index] || '';
        });
        calculateMonthAvg();
      }
      updateChart(formData);
    }

    // ÿ™ÿßÿ®ÿπ ŸÖÿ≠ÿßÿ≥ÿ®Ÿá ŸÖ€åÿßŸÜ⁄Ø€åŸÜ ŸÖÿßŸá
    function calculateMonthAvg() {
      if (!currentMonth) return;
      const scores = Array.from(document.querySelectorAll('.month_score')).map(select => scoreValues[select.value] || 0);
      const validScores = scores.filter(s => s > 0);
      const avg = validScores.length > 0 ? (validScores.reduce((a, b) => a + b, 0) / validScores.length).toFixed(2) : 0;
      document.getElementById('month_avg').textContent = avg;
      calculateOverallAvg();
    }

    // ÿ™ÿßÿ®ÿπ ŸÖÿ≠ÿßÿ≥ÿ®Ÿá ŸÖ€åÿßŸÜ⁄Ø€åŸÜ ⁄©ŸÑ 12 ŸÖÿßŸá
    function calculateOverallAvg() {
      const formData = getCurrentFormData();
      if (!formData || !formData.months) return;
      const months = Object.keys(formData.months);
      let totalSum = 0;
      let totalCount = 0;
      months.forEach(month => {
        const scores = formData.months[month].scores.map(s => scoreValues[s] || 0);
        const validScores = scores.filter(s => s > 0);
        if (validScores.length > 0) {
          totalSum += validScores.reduce((a, b) => a + b, 0);
          totalCount += validScores.length;
        }
      });
      const overallAvg = totalCount > 0 ? (totalSum / totalCount).toFixed(2) : 0;
      document.getElementById('overall_avg').textContent = overallAvg;
      generateSmartAnalysis(overallAvg);
      updateChart(formData);
      updateMonthStatus(formData);
    }

    // ÿ™ÿßÿ®ÿπ ÿ®Ÿá‚Äåÿ±Ÿàÿ≤ÿ±ÿ≥ÿßŸÜ€å Ÿàÿ∂ÿπ€åÿ™ ŸÖÿßŸá‚ÄåŸáÿß
    function updateMonthStatus(formData) {
      if (!formData || !formData.months) {
        document.getElementById('month_status').textContent = 'Ÿá€å⁄Ü ŸÖÿßŸá€å Ÿæÿ± ŸÜÿ¥ÿØŸá ÿßÿ≥ÿ™.';
        return;
      }
      const months = Object.keys(formData.months);
      const status = months.length > 0 ? months.join('ÿå ') : 'Ÿá€å⁄Ü ŸÖÿßŸá€å Ÿæÿ± ŸÜÿ¥ÿØŸá ÿßÿ≥ÿ™.';
      document.getElementById('month_status').textContent = status;
    }

    // ÿ™ÿßÿ®ÿπ ÿ™ŸàŸÑ€åÿØ ÿ™ÿ≠ŸÑ€åŸÑ ŸáŸàÿ¥ŸÖŸÜÿØ
    function generateSmartAnalysis(overallAvg) {
      const analysis = {
        'ÿ™ÿ≠ŸÑ€åŸÑ ŸáŸàÿ¥': overallAvg >= 3.5 ? 'ÿπŸÖŸÑ⁄©ÿ±ÿØ ÿ®ÿ≥€åÿßÿ± ŸÇŸà€å ÿØÿ± ŸÖÿØ€åÿ±€åÿ™ ŸÅÿ±ÿ¢€åŸÜÿØŸáÿß€å ÿ¢ŸÖŸàÿ≤ÿ¥€å.' : 'ŸÜ€åÿßÿ≤ ÿ®Ÿá ÿ®Ÿáÿ®ŸàÿØ ÿØÿ± ÿßÿ≥ÿ™ŸÅÿßÿØŸá ÿßÿ≤ ÿØÿßÿØŸá‚ÄåŸáÿß ÿ®ÿ±ÿß€å ÿ™ÿµŸÖ€åŸÖ‚Äå⁄Ø€åÿ±€å.',
        'ÿ™ÿ≠ŸÑ€åŸÑ ÿ±ÿßŸáÿ®ÿ±ÿØ€å': overallAvg >= 3 ? 'ÿßÿ≥ÿ™ÿ±ÿßÿ™⁄ò€å‚ÄåŸáÿß€å ÿ®ÿ±ŸÜÿßŸÖŸá‚Äåÿ±€åÿ≤€å ŸÇŸà€å Ÿà ŸÖÿ§ÿ´ÿ±.' : 'ŸÜ€åÿßÿ≤ ÿ®Ÿá ÿ®ÿßÿ≤ŸÜ⁄Øÿ±€å ÿØÿ± ÿ®ÿ±ŸÜÿßŸÖŸá‚Äåÿ±€åÿ≤€å ÿßÿ≥ÿ™ÿ±ÿßÿ™⁄ò€å⁄©.',
        'ÿ™ÿ≠ŸÑ€åŸÑ ÿ±ŸàÿßŸÜÿ¥ŸÜÿßÿ≥€å': overallAvg >= 2.5 ? 'ÿß€åÿ¨ÿßÿØ ŸÖÿ≠€åÿ∑ ÿπÿßÿ∑ŸÅ€å ŸÖÿ´ÿ®ÿ™ ÿØÿ± ŸÖÿØÿ±ÿ≥Ÿá.' : 'ŸÜ€åÿßÿ≤ ÿ®Ÿá ÿ™ŸÇŸà€åÿ™ ÿ™ÿπÿßŸÖŸÑÿßÿ™ ÿπÿßÿ∑ŸÅ€å ÿ®ÿß ÿØÿßŸÜÿ¥‚Äåÿ¢ŸÖŸàÿ≤ÿßŸÜ.',
        'ÿ™ÿ≠ŸÑ€åŸÑ ⁄©ŸÖ⁄©€å': overallAvg >= 2 ? 'ÿßÿ≥ÿ™ŸÅÿßÿØŸá ŸÖŸÜÿßÿ≥ÿ® ÿßÿ≤ ŸÖŸÜÿßÿ®ÿπ Ÿà ÿßÿ®ÿ≤ÿßÿ±Ÿáÿß.' : 'ŸÜ€åÿßÿ≤ ÿ®Ÿá ÿ™ÿ£ŸÖ€åŸÜ ŸÖŸÜÿßÿ®ÿπ ÿ¢ŸÖŸàÿ≤ÿ¥€å ÿ®€åÿ¥ÿ™ÿ±.',
        'ÿ™ÿ≠ŸÑ€åŸÑ ÿπŸÖŸÑ⁄©ÿ±ÿØ ⁄©ŸÑ€å': `ŸÖ€åÿßŸÜ⁄Ø€åŸÜ ⁄©ŸÑ: ${overallAvg} ÿßÿ≤ €¥ÿå ŸÜÿ¥ÿßŸÜ‚ÄåÿØŸáŸÜÿØŸá ${overallAvg >= 3 ? 'ÿπŸÖŸÑ⁄©ÿ±ÿØ ŸÇŸà€å' : 'ŸÜ€åÿßÿ≤ ÿ®Ÿá ÿ®Ÿáÿ®ŸàÿØ'}.`,
        'ÿ™ÿ≠ŸÑ€åŸÑ ŸÜŸÇÿßÿ∑ ŸÇŸàÿ™ Ÿà ÿ∂ÿπŸÅ': overallAvg >= 3 ? 'ŸÜŸÇÿßÿ∑ ŸÇŸàÿ™: ÿ®ÿ±ŸÜÿßŸÖŸá‚Äåÿ±€åÿ≤€å Ÿà ŸÜÿ∏ÿßÿ±ÿ™ ŸÇŸà€å. ŸÜŸÇÿßÿ∑ ÿ∂ÿπŸÅ: ÿ®ÿ±ÿ±ÿ≥€å ÿ¨ÿ≤ÿ¶€å‚Äåÿ™ÿ± ÿ®ÿßÿ≤ÿÆŸàÿ±ÿØŸáÿß.' : 'ŸÜŸÇÿßÿ∑ ŸÇŸàÿ™: ÿ™ÿπÿßŸÖŸÑ ÿ®ÿß ŸàÿßŸÑÿØ€åŸÜ. ŸÜŸÇÿßÿ∑ ÿ∂ÿπŸÅ: ÿ®Ÿáÿ®ŸàÿØ ŸÖÿ≥ÿ™ŸÜÿØÿ≥ÿßÿ≤€å.',
        'Ÿæ€åÿ¥ŸÜŸáÿßÿØÿßÿ™': 'ÿ™ŸÖÿ±⁄©ÿ≤ ÿ®ÿ± ÿ¢ŸÖŸàÿ≤ÿ¥‚ÄåŸáÿß€å ÿ∂ŸÖŸÜ ÿÆÿØŸÖÿ™ÿå ÿ™ŸÇŸà€åÿ™ ÿ™ÿπÿßŸÖŸÑÿßÿ™ ÿ®ÿß ŸàÿßŸÑÿØ€åŸÜÿå Ÿà ÿßÿ≥ÿ™ŸÅÿßÿØŸá ÿßÿ≤ ÿßÿ®ÿ≤ÿßÿ±Ÿáÿß€å ÿØ€åÿ¨€åÿ™ÿßŸÑ.'
      };
      const tbody = document.getElementById('smart_analysis');
      tbody.innerHTML = Object.keys(analysis).map(key => `<tr><td>${key}</td><td>${analysis[key]}</td></tr>`).join('');
    }

    // ÿ™ÿßÿ®ÿπ ÿßÿπŸÖÿßŸÑ ŸÜŸÖÿ±Ÿá Ÿæ€åÿ¥‚ÄåŸÅÿ±ÿ∂ ÿ®Ÿá ŸÖÿ≠Ÿàÿ±Ÿáÿß€å ŸÖÿßŸá
    function fillDefaultScores() {
      const defaultScore = document.getElementById('default_score').value;
      if (!defaultScore) {
        Swal.fire({
          icon: 'error',
          title: 'ÿÆÿ∑ÿß',
          text: 'ŸÜŸÖÿ±Ÿá Ÿæ€åÿ¥‚ÄåŸÅÿ±ÿ∂ ÿ±ÿß ÿßŸÜÿ™ÿÆÿßÿ® ⁄©ŸÜ€åÿØ.',
        });
        return;
      }

      document.querySelectorAll('.month_score').forEach(select => {
        select.value = defaultScore;
      });

      const defaultComment = {
        'ÿπÿßŸÑ€å': 'ÿπÿßŸÑ€åÿå ÿ®ÿØŸàŸÜ ŸÜŸÇÿµ.',
        'ÿÆŸàÿ®': 'ÿÆŸàÿ®ÿå ÿπŸÖŸÑ⁄©ÿ±ÿØ ŸÖŸÜÿßÿ≥ÿ®.',
        'ŸÖÿ™Ÿàÿ≥ÿ∑': 'ŸÖÿ™Ÿàÿ≥ÿ∑ÿå ŸÜ€åÿßÿ≤ ÿ®Ÿá ÿ®Ÿáÿ®ŸàÿØ.',
        'ŸÜ€åÿßÿ≤ŸÖŸÜÿØ ÿ™ŸÑÿßÿ¥': 'ŸÜ€åÿßÿ≤ŸÖŸÜÿØ ÿ™ŸÑÿßÿ¥ ÿ®€åÿ¥ÿ™ÿ±.'
      }[defaultScore];
      document.querySelectorAll('.month_comment').forEach(textarea => {
        textarea.value = defaultComment;
      });

      calculateMonthAvg();
      saveForm();
      Swal.fire({
        icon: 'success',
        title: 'ÿßÿπŸÖÿßŸÑ ÿ¥ÿØ',
        text: 'ŸÜŸÖÿ±Ÿá Ÿæ€åÿ¥‚ÄåŸÅÿ±ÿ∂ Ÿà ÿ™Ÿàÿ∂€åÿ≠ÿßÿ™ ÿßÿπŸÖÿßŸÑ ÿ¥ÿØ.',
        timer: 1500,
        showConfirmButton: false
      });
    }

    // ÿ™ÿßÿ®ÿπ ÿ∞ÿÆ€åÿ±Ÿá ŸÅÿ±ŸÖ
    function saveForm() {
      const personnelCode = document.getElementById('personnel_code').value;
      if (!/^\d{8}$/.test(personnelCode)) {
        Swal.fire({
          icon: 'error',
          title: 'ÿÆÿ∑ÿß',
          text: 'ŸÑÿ∑ŸÅÿßŸã ⁄©ÿØ Ÿæÿ±ÿ≥ŸÜŸÑ€å €∏ ÿ±ŸÇŸÖ€å ŸÖÿπÿ™ÿ®ÿ± Ÿàÿßÿ±ÿØ ⁄©ŸÜ€åÿØ.',
        });
        return;
      }

      let formData = getCurrentFormData() || {
        school: '',
        manager: '',
        personnel_code: '',
        inspector: '',
        date: '',
        persian_date: '',
        duration: '',
        extra_comments: '',
        months: {}
      };

      // ÿ®Ÿá‚Äåÿ±Ÿàÿ≤ÿ±ÿ≥ÿßŸÜ€å ÿßÿ∑ŸÑÿßÿπÿßÿ™ Ÿæÿß€åŸá
      formData.school = document.getElementById('school').value || '';
      formData.manager = document.getElementById('manager').value || '';
      formData.personnel_code = personnelCode;
      formData.inspector = document.getElementById('inspector').value || '';
      formData.date = document.getElementById('date').value || '';
      formData.persian_date = document.getElementById('persian_date').value || '';
      formData.duration = document.getElementById('duration').value || '';
      formData.extra_comments = document.getElementById('extra_comments').value || '';

      // ÿ∞ÿÆ€åÿ±Ÿá ÿØÿßÿØŸá‚ÄåŸáÿß€å ŸÖÿßŸá ÿ¨ÿßÿ±€å
      if (currentMonth) {
        formData.months[currentMonth] = formData.months[currentMonth] || { scores: [], comments: [] };
        formData.months[currentMonth].scores = Array.from(document.querySelectorAll('.month_score')).map(select => select.value || '');
        formData.months[currentMonth].comments = Array.from(document.querySelectorAll('.month_comment')).map(textarea => textarea.value || '');
      }

      const key = `primary_inspection_form_${personnelCode}`;
      localStorage.setItem(key, JSON.stringify(formData));
      loadFormList();
      calculateMonthAvg();
      calculateOverallAvg();
      Swal.fire({
        icon: 'success',
        title: 'ÿ∞ÿÆ€åÿ±Ÿá ÿ¥ÿØ',
        text: 'ŸÅÿ±ŸÖ ÿ®ÿß ŸÖŸàŸÅŸÇ€åÿ™ ÿ∞ÿÆ€åÿ±Ÿá ÿ¥ÿØ.',
        timer: 1500,
        showConfirmButton: false
      });
    }

    // ÿ™ÿßÿ®ÿπ ÿØÿ±€åÿßŸÅÿ™ ÿØÿßÿØŸá ŸÅÿ±ŸÖ ŸÅÿπŸÑ€å
    function getCurrentFormData() {
      const select = document.getElementById('load_form_select');
      const key = select.value;
      if (!key) return null;
      return JSON.parse(localStorage.getItem(key));
    }

    // ÿ™ÿßÿ®ÿπ ÿ®ÿßÿ±⁄Øÿ∞ÿßÿ±€å ŸÅÿ±ŸÖ ÿßŸÜÿ™ÿÆÿßÿ®‚Äåÿ¥ÿØŸá
    function loadForm() {
      const select = document.getElementById('load_form_select');
      const key = select.value;
      if (!key) {
        Swal.fire({
          icon: 'warning',
          title: 'Ÿáÿ¥ÿØÿßÿ±',
          text: 'ŸÑÿ∑ŸÅÿßŸã €å⁄© ŸÅÿ±ŸÖ ÿ±ÿß ÿßŸÜÿ™ÿÆÿßÿ® ⁄©ŸÜ€åÿØ.',
        });
        return;
      }

      const formData = JSON.parse(localStorage.getItem(key));
      if (formData) {
        document.getElementById('school').value = formData.school || '';
        document.getElementById('manager').value = formData.manager || '';
        document.getElementById('personnel_code').value = formData.personnel_code || '';
        document.getElementById('inspector').value = formData.inspector || '';
        document.getElementById('date').value = formData.date || '';
        document.getElementById('persian_date').value = formData.persian_date || '';
        document.getElementById('duration').value = formData.duration || '';
        document.getElementById('extra_comments').value = formData.extra_comments || '';
        currentMonth = null;
        document.querySelectorAll('.month-btn').forEach(btn => btn.classList.remove('active'));
        document.getElementById('axes_table_body').innerHTML = '';
        document.getElementById('month_avg').textContent = '0';
        calculateOverallAvg();
        updateMonthStatus(formData);
        Swal.fire({
          icon: 'success',
          title: 'ÿ®ÿßÿ±⁄Øÿ∞ÿßÿ±€å ÿ¥ÿØ',
          text: 'ŸÅÿ±ŸÖ ÿßŸÜÿ™ÿÆÿßÿ®‚Äåÿ¥ÿØŸá ÿ®ÿßÿ±⁄Øÿ∞ÿßÿ±€å ÿ¥ÿØ. ÿ≠ÿßŸÑÿß ŸÖÿßŸá ÿ±ÿß ÿßŸÜÿ™ÿÆÿßÿ® ⁄©ŸÜ€åÿØ.',
          timer: 1500,
          showConfirmButton: false
        });
      }
    }

    // ÿ™ÿßÿ®ÿπ ÿ®Ÿá‚Äåÿ±Ÿàÿ≤ÿ±ÿ≥ÿßŸÜ€å ŸÜŸÖŸàÿØÿßÿ±
    let scoreChart;
    function updateChart(formData = null) {
      const ctx = document.getElementById('scoreChart').getContext('2d');
      const months = Object.keys(monthAxes);
      const data = months.map(month => {
        if (formData && formData.months && formData.months[month]) {
          const scores = formData.months[month].scores.map(s => scoreValues[s] || 0);
          const validScores = scores.filter(s => s > 0);
          return validScores.length > 0 ? validScores.reduce((a, b) => a + b, 0) / validScores.length : 0;
        }
        return 0;
      });

      if (scoreChart) scoreChart.destroy();
      scoreChart = new Chart(ctx, {
        type: 'bar',
        data: {
          labels: months,
          datasets: [{
            label: 'ŸÖ€åÿßŸÜ⁄Ø€åŸÜ ŸÜŸÖÿ±ÿßÿ™ ŸÖÿßŸáÿßŸÜŸá',
            data: data,
            backgroundColor: chartColors,
            borderColor: chartColors.map(color => color.replace('0.6', '1')),
            borderWidth: 1
          }]
        },
        options: {
          indexAxis: 'y',
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            x: {
              beginAtZero: true,
              max: 4,
              title: {
                display: true,
                text: 'ŸÖ€åÿßŸÜ⁄Ø€åŸÜ ŸÜŸÖÿ±Ÿá',
                font: { size: 14 }
              }
            },
            y: {
              title: {
                display: true,
                text: 'ŸÖÿßŸá‚ÄåŸáÿß',
                font: { size: 14 }
              }
            }
          },
          plugins: {
            legend: { display: true },
            tooltip: {
              callbacks: {
                label: function(context) {
                  return `ŸÖ€åÿßŸÜ⁄Ø€åŸÜ: ${context.parsed.x.toFixed(2)}`;
                }
              }
            }
          }
        }
      });
    }

    // ÿ™ÿßÿ®ÿπ ÿ±ÿßŸáŸÜŸÖÿß€å ÿ™ÿπÿßŸÖŸÑ€å
    function startTour() {
      Swal.fire({
        title: 'ÿ±ÿßŸáŸÜŸÖÿß€å ÿ™ÿπÿßŸÖŸÑ€å',
        html: `
          <p>1. <b>ÿßÿ∑ŸÑÿßÿπÿßÿ™ ÿßŸàŸÑ€åŸá:</b> ŸÅ€åŸÑÿØŸáÿß€å ÿßÿ¨ÿ®ÿßÿ±€å ÿ±ÿß Ÿæÿ± ⁄©ŸÜ€åÿØ.</p>
          <p>2. <b>ÿßŸÜÿ™ÿÆÿßÿ® ŸÖÿßŸá:</b> ÿ±Ÿà€å ÿØ⁄©ŸÖŸá ŸÖÿßŸá ŸÖŸàÿ±ÿØ ŸÜÿ∏ÿ± ⁄©ŸÑ€å⁄© ⁄©ŸÜ€åÿØ Ÿà ŸÖÿ≠Ÿàÿ±Ÿáÿß ÿ±ÿß ŸÜŸÖÿ±Ÿá‚ÄåÿØŸá€å ⁄©ŸÜ€åÿØ.</p>
          <p>3. <b>ŸÜŸÖÿ±Ÿá Ÿæ€åÿ¥‚ÄåŸÅÿ±ÿ∂:</b> ÿ®ÿ±ÿß€å Ÿæÿ± ⁄©ÿ±ÿØŸÜ ÿ≥ÿ±€åÿπ ÿßÿ≥ÿ™ŸÅÿßÿØŸá ⁄©ŸÜ€åÿØ.</p>
          <p>4. <b>ÿ∞ÿÆ€åÿ±Ÿá:</b> ÿ®ÿß ⁄©ŸÑ€å⁄© ÿ±Ÿà€å "ÿ∞ÿÆ€åÿ±Ÿá ŸÅÿ±ŸÖ" €åÿß ÿ™ÿ∫€å€åÿ± Ÿàÿ±ŸàÿØ€å‚ÄåŸáÿßÿå ÿØÿßÿØŸá‚ÄåŸáÿß ÿ∞ÿÆ€åÿ±Ÿá ŸÖ€å‚Äåÿ¥ŸàŸÜÿØ.</p>
          <p>5. <b>ŸÖ€åÿßŸÜ⁄Ø€åŸÜ:</b> ŸÖ€åÿßŸÜ⁄Ø€åŸÜ ŸÖÿßŸá Ÿà ⁄©ŸÑ ÿ≥ÿßŸÑ ŸÜŸÖÿß€åÿ¥ ÿØÿßÿØŸá ŸÖ€å‚Äåÿ¥ŸàÿØ.</p>
          <p>6. <b>ÿ™ÿ≠ŸÑ€åŸÑ:</b> ÿ™ÿ≠ŸÑ€åŸÑ ÿßÿ™ŸàŸÖÿßÿ™€å⁄© ÿ®ÿ± ÿßÿ≥ÿßÿ≥ ŸÖ€åÿßŸÜ⁄Ø€åŸÜ ÿ™ŸàŸÑ€åÿØ ŸÖ€å‚Äåÿ¥ŸàÿØ.</p>
          <p>7. <b>ÿµÿßÿØÿ±ÿßÿ™/Ÿàÿ±ŸàÿØ:</b> ÿßÿ≤ JSON Ÿà ÿß⁄©ÿ≥ŸÑ ÿ®ÿ±ÿß€å ÿßŸÜÿ™ŸÇÿßŸÑ ÿØÿßÿØŸá‚ÄåŸáÿß ÿßÿ≥ÿ™ŸÅÿßÿØŸá ⁄©ŸÜ€åÿØ.</p>
        `,
        confirmButtonText: 'ÿ®ÿßÿ¥Ÿá'
      });
    }

    // ÿ™ÿßÿ®ÿπ Ÿæÿß⁄© ⁄©ÿ±ÿØŸÜ ŸÅÿ±ŸÖ
    function clearForm() {
      Swal.fire({
        title: 'ÿ¢€åÿß ŸÖÿ∑ŸÖÿ¶ŸÜ Ÿáÿ≥ÿ™€åÿØÿü',
        text: 'ÿØÿßÿØŸá‚ÄåŸáÿß€å ŸÅÿ±ŸÖ ŸÅÿπŸÑ€å Ÿæÿß⁄© ÿÆŸàÿßŸáÿØ ÿ¥ÿØ.',
        icon: 'warning',
        showCancelButton: true,
        confirmButtonText: 'ÿ®ŸÑŸá',
        cancelButtonText: 'ÿÆ€åÿ±'
      }).then((result) => {
        if (result.isConfirmed) {
          document.querySelectorAll('input:not([type="date"]), textarea, select:not(#month_select)').forEach(element => element.value = '');
          document.getElementById('axes_table_body').innerHTML = '';
          document.getElementById('month_avg').textContent = '0';
          document.getElementById('overall_avg').textContent = '0';
          document.getElementById('month_status').textContent = 'Ÿá€å⁄Ü ŸÖÿßŸá€å Ÿæÿ± ŸÜÿ¥ÿØŸá ÿßÿ≥ÿ™.';
          document.getElementById('smart_analysis').innerHTML = `
            <tr><td>ÿ™ÿ≠ŸÑ€åŸÑ ŸáŸàÿ¥</td><td>-</td></tr>
            <tr><td>ÿ™ÿ≠ŸÑ€åŸÑ ÿ±ÿßŸáÿ®ÿ±ÿØ€å</td><td>-</td></tr>
            <tr><td>ÿ™ÿ≠ŸÑ€åŸÑ ÿ±ŸàÿßŸÜÿ¥ŸÜÿßÿ≥€å</td><td>-</td></tr>
            <tr><td>ÿ™ÿ≠ŸÑ€åŸÑ ⁄©ŸÖ⁄©€å</td><td>-</td></tr>
            <tr><td>ÿ™ÿ≠ŸÑ€åŸÑ ÿπŸÖŸÑ⁄©ÿ±ÿØ ⁄©ŸÑ€å</td><td>-</td></tr>
            <tr><td>ÿ™ÿ≠ŸÑ€åŸÑ ŸÜŸÇÿßÿ∑ ŸÇŸàÿ™ Ÿà ÿ∂ÿπŸÅ</td><td>-</td></tr>
            <tr><td>Ÿæ€åÿ¥ŸÜŸáÿßÿØÿßÿ™</td><td>-</td></tr>
          `;
          const select = document.getElementById('load_form_select');
          localStorage.removeItem(select.value);
          select.value = '';
          loadFormList();
          updateChart();
          Swal.fire('Ÿæÿß⁄© ÿ¥ÿØ!', 'ŸÅÿ±ŸÖ Ÿæÿß⁄© ÿ¥ÿØ.', 'success');
        }
      });
    }

    // ÿ™ÿßÿ®ÿπ Ÿæ€åÿ¥‚ÄåŸÜŸÖÿß€åÿ¥ ⁄Øÿ≤ÿßÿ±ÿ¥
    function previewForm() {
      const formData = getCurrentFormData();
      if (!formData) {
        Swal.fire({
          icon: 'warning',
          title: 'Ÿáÿ¥ÿØÿßÿ±',
          text: 'ŸÅÿ±ŸÖ€å ÿ®ÿßÿ±⁄Øÿ∞ÿßÿ±€å ŸÜÿ¥ÿØŸá ÿßÿ≥ÿ™.',
        });
        return;
      }

      const content = generatePrintContent(formData);
      const win = window.open('', '_blank');
      win.document.write(content);
      win.document.close();
    }

    // ÿ™ÿßÿ®ÿπ ⁄ÜÿßŸæ ⁄Øÿ≤ÿßÿ±ÿ¥
    function printForm() {
      const formData = getCurrentFormData();
      if (!formData) {
        Swal.fire({
          icon: 'warning',
          title: 'Ÿáÿ¥ÿØÿßÿ±',
          text: 'ŸÅÿ±ŸÖ€å ÿ®ÿßÿ±⁄Øÿ∞ÿßÿ±€å ŸÜÿ¥ÿØŸá ÿßÿ≥ÿ™.',
        });
        return;
      }

      const content = generatePrintContent(formData);
      const win = window.open('', '_blank');
      win.document.write(content);
      win.document.close();
      win.print();
    }

    // ÿ™ÿßÿ®ÿπ ÿ™ŸàŸÑ€åÿØ ŸÖÿ≠ÿ™Ÿàÿß€å ⁄ÜÿßŸæ
    function generatePrintContent(formData) {
      let content = `
        <html dir="rtl">
        <head>
          <meta charset="UTF-8">
          <link href="https://v1.fontapi.ir/css/Vazir:300,400,500" rel="stylesheet">
          <style>
            body { font-family: Vazir, sans-serif; font-size: 8pt; margin: 10px; }
            table { width: 100%; border-collapse: collapse; table-layout: fixed; }
            th, td { border: 1px solid #000; padding: 4px; font-size: 7pt; text-align: center; }
            th { background: #bfdbfe; color: #1e40af; }
            .section { margin-bottom: 10px; page-break-inside: avoid; }
          </style>
        </head>
        <body>
          <h3>⁄Øÿ≤ÿßÿ±ÿ¥ ÿ®ÿßÿ≤ÿØ€åÿØ - ${formData.manager || '-'}</h3>
          <div class="section">
            <h4>ÿßÿ∑ŸÑÿßÿπÿßÿ™ Ÿæÿß€åŸá</h4>
            <table>
              <tr><th>ŸÖÿØÿ±ÿ≥Ÿá</th><td>${formData.school || '-'}</td></tr>
              <tr><th>ŸÖÿØ€åÿ±</th><td>${formData.manager || '-'}</td></tr>
              <tr><th>⁄©ÿØ Ÿæÿ±ÿ≥ŸÜŸÑ€å</th><td>${formData.personnel_code || '-'}</td></tr>
              <tr><th>ÿ®ÿßÿ≤ÿ±ÿ≥</th><td>${formData.inspector || '-'}</td></tr>
              <tr><th>ÿ™ÿßÿ±€åÿÆ (ÿ¥ŸÖÿ≥€å)</th><td>${formData.persian_date || '-'}</td></tr>
              <tr><th>ŸÖÿØÿ™</th><td>${formData.duration || '-'}</td></tr>
              <tr><th>ÿ™Ÿàÿ∂€åÿ≠ÿßÿ™</th><td>${formData.extra_comments || '-'}</td></tr>
            </table>
          </div>
      `;

      Object.keys(monthAxes).forEach(month => {
        if (formData.months && formData.months[month]) {
          const scores = formData.months[month].scores || [];
          const comments = formData.months[month].comments || [];
          content += `
            <div class="section">
              <h4>ŸÖÿßŸá ${month}</h4>
              <table>
                <tr><th style="width: 10%;">ÿ±ÿØ€åŸÅ</th><th style="width: 40%;">ŸÖÿ≠Ÿàÿ±</th><th style="width: 30%;">ÿ™Ÿàÿ∂€åÿ≠</th><th style="width: 20%;">ŸÜŸÖÿ±Ÿá</th></tr>
                ${monthAxes[month].map((axis, i) => `
                  <tr>
                    <td>${i + 1}</td>
                    <td>${axis}</td>
                    <td>${comments[i] || '-'}</td>
                    <td>${scores[i] || '-'}</td>
                  </tr>
                `).join('')}
              </table>
            </div>
          `;
        }
      });

      content += `
          <div class="section">
            <h4>ÿ¨ŸÖÿπ‚Äåÿ®ŸÜÿØ€å</h4>
            <table>
              <tr><th>ŸÖ€åÿßŸÜ⁄Ø€åŸÜ ⁄©ŸÑ</th><td>${document.getElementById('overall_avg').textContent}</td></tr>
            </table>
          </div>
          <div class="section">
            <h4>ÿ™ÿ≠ŸÑ€åŸÑ ŸáŸàÿ¥ŸÖŸÜÿØ</h4>
            <table>
              ${document.getElementById('smart_analysis').innerHTML}
            </table>
          </div>
        </body>
        </html>
      `;

      return content;
    }

    // ÿ™ÿßÿ®ÿπ ÿµÿßÿØÿ±ÿßÿ™ ÿ®Ÿá JSON
    function exportToJSON() {
      const forms = Object.keys(localStorage).filter(key => key.startsWith('primary_inspection_form_')).map(key => JSON.parse(localStorage.getItem(key)));
      if (forms.length === 0) {
        Swal.fire({
          icon: 'warning',
          title: 'Ÿáÿ¥ÿØÿßÿ±',
          text: 'Ÿá€å⁄Ü ŸÅÿ±ŸÖ€å ÿ®ÿ±ÿß€å ÿµÿßÿØÿ±ÿßÿ™ Ÿàÿ¨ŸàÿØ ŸÜÿØÿßÿ±ÿØ.',
        });
        return;
      }

      const jsonContent = JSON.stringify(forms, null, 2);
      const blob = new Blob([jsonContent], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const link = document.createElement('a');
      link.href = url;
      link.download = 'inspection_forms.json';
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
      URL.revokeObjectURL(url);
      Swal.fire({
        icon: 'success',
        title: 'ÿµÿßÿØÿ± ÿ¥ÿØ',
        text: 'ÿØÿßÿØŸá‚ÄåŸáÿß ÿ®Ÿá ŸÅÿß€åŸÑ JSON ÿµÿßÿØÿ± ÿ¥ÿØŸÜÿØ.',
        timer: 1500,
        showConfirmButton: false
      });
    }

    // ÿ™ÿßÿ®ÿπ Ÿàÿ±ŸàÿØ ÿßÿ≤ JSON
    function importJSON() {
      const input = document.createElement('input');
      input.type = 'file';
      input.accept = '.json';
      input.onchange = function(e) {
        const file = e.target.files[0];
        if (!file) return;
        const reader = new FileReader();
        reader.onload = function(e) {
          try {
            const forms = JSON.parse(e.target.result);
            forms.forEach(formData => {
              const personnelCode = formData.personnel_code;
              const key = `primary_inspection_form_${personnelCode}`;
              localStorage.setItem(key, JSON.stringify(formData));
            });
            loadFormList();
            Swal.fire({
              icon: 'success',
              title: 'Ÿàÿßÿ±ÿØ ÿ¥ÿØ',
              text: 'ÿØÿßÿØŸá‚ÄåŸáÿß ÿßÿ≤ ŸÅÿß€åŸÑ JSON Ÿàÿßÿ±ÿØ ÿ¥ÿØŸÜÿØ.',
              timer: 1500,
              showConfirmButton: false
            });
          } catch (err) {
            Swal.fire({
              icon: 'error',
              title: 'ÿÆÿ∑ÿß',
              text: 'ŸÅÿß€åŸÑ JSON ŸÖÿπÿ™ÿ®ÿ± ŸÜ€åÿ≥ÿ™.',
            });
          }
        };
        reader.readAsText(file);
      };
      input.click();
    }

    // ÿ™ÿßÿ®ÿπ ÿµÿßÿØÿ±ÿßÿ™ ÿ®Ÿá ÿß⁄©ÿ≥ŸÑ (CSV)
    function exportToCSV() {
      const forms = Object.keys(localStorage).filter(key => key.startsWith('primary_inspection_form_')).map(key => JSON.parse(localStorage.getItem(key)));
      if (forms.length === 0) {
        Swal.fire({
          icon: 'warning',
          title: 'Ÿáÿ¥ÿØÿßÿ±',
          text: 'Ÿá€å⁄Ü ŸÅÿ±ŸÖ€å Ÿàÿ¨ŸàÿØ ŸÜÿØÿßÿ±ÿØ.',
        });
        return;
      }

      const months = Object.keys(monthAxes);
      const headers = [
        'ŸÖÿØÿ±ÿ≥Ÿá', 'ŸÖÿØ€åÿ±', '⁄©ÿØ Ÿæÿ±ÿ≥ŸÜŸÑ€å', 'ÿ®ÿßÿ≤ÿ±ÿ≥', 'ÿ™ÿßÿ±€åÿÆ (ÿ¥ŸÖÿ≥€å)', 'ŸÖÿØÿ™', 'ÿ™Ÿàÿ∂€åÿ≠ÿßÿ™ ÿßÿ∂ÿßŸÅ€å',
        ...months.flatMap(month => monthAxes[month].map((axis, i) => `${month} - ÿßŸÖÿ™€åÿßÿ≤ ŸÖÿ≠Ÿàÿ± ${i+1}`)),
        ...months.flatMap(month => monthAxes[month].map((axis, i) => `${month} - ÿ™Ÿàÿ∂€åÿ≠ ŸÖÿ≠Ÿàÿ± ${i+1}`)),
        'ŸÖ€åÿßŸÜ⁄Ø€åŸÜ ⁄©ŸÑ'
      ];

      const rows = forms.map(formData => {
        let totalSum = 0;
        let totalCount = 0;
        const monthData = months.flatMap(month => {
          if (formData.months && formData.months[month]) {
            const scores = formData.months[month].scores || [];
            const comments = formData.months[month].comments || [];
            const validScores = scores.map(s => scoreValues[s] || 0).filter(s => s > 0);
            totalSum += validScores.reduce((a, b) => a + b, 0);
            totalCount += validScores.length;
            return [
              ...scores,
              ...comments
            ];
          } else {
            return Array(monthAxes[month].length * 2).fill('');
          }
        });

        const overallAvg = totalCount > 0 ? (totalSum / totalCount).toFixed(2) : '0.00';

        return [
          formData.school || '',
          formData.manager || '',
          formData.personnel_code || '',
          formData.inspector || '',
          formData.persian_date || '',
          formData.duration || '',
          formData.extra_comments || '',
          ...monthData,
          overallAvg
        ].map(val => `"${(val || '').toString().replace(/"/g, '""')}"`).join(',');
      });

      const csvContent = 'data:text/csv;charset=utf-8,\uFEFF' + headers.map(h => `"${h}"`).join(',') + '\n' + rows.join('\n');
      const link = document.createElement('a');
      link.setAttribute('href', encodeURI(csvContent));
      link.setAttribute('download', 'inspection_forms.csv');
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
      Swal.fire({
        icon: 'success',
        title: 'ÿµÿßÿØÿ± ÿ¥ÿØ',
        text: 'ŸÅÿß€åŸÑ CSV ÿµÿßÿØÿ± ÿ¥ÿØ.',
        timer: 1500,
        showConfirmButton: false
      });
    }

    // ÿ™ÿßÿ®ÿπ Ÿàÿ±ŸàÿØ ÿßÿ≤ ÿß⁄©ÿ≥ŸÑ (CSV)
    function importCSV() {
      const input = document.createElement('input');
      input.type = 'file';
      input.accept = '.csv';
      input.onchange = function(e) {
        const file = e.target.files[0];
        if (!file) return;
        Papa.parse(file, {
          complete: function(results) {
            try {
              const headers = results.data[0];
              const rows = results.data.slice(1);
              rows.forEach(row => {
                const formData = {
                  school: row[0] || '',
                  manager: row[1] || '',
                  personnel_code: row[2] || '',
                  inspector: row[3] || '',
                  persian_date: row[4] || '',
                  date: moment(row[4], 'YYYY/MM/DD').locale('en').format('YYYY-MM-DD') || '',
                  duration: row[5] || '',
                  extra_comments: row[6] || '',
                  months: {}
                };
                const months = Object.keys(monthAxes);
                let colIndex = 7;
                months.forEach(month => {
                  const scores = [];
                  const comments = [];
                  for (let i = 0; i < monthAxes[month].length; i++) {
                    scores.push(row[colIndex] || '');
                    colIndex++;
                  }
                  for (let i = 0; i < monthAxes[month].length; i++) {
                    comments.push(row[colIndex] || '');
                    colIndex++;
                  }
                  if (scores.some(s => s && s !== '')) {
                    formData.months[month] = { scores, comments };
                  }
                });
                const key = `primary_inspection_form_${formData.personnel_code}`;
                localStorage.setItem(key, JSON.stringify(formData));
              });
              loadFormList();
              Swal.fire({
                icon: 'success',
                title: 'Ÿàÿßÿ±ÿØ ÿ¥ÿØ',
                text: 'ÿØÿßÿØŸá‚ÄåŸáÿß ÿßÿ≤ ŸÅÿß€åŸÑ CSV Ÿàÿßÿ±ÿØ ÿ¥ÿØŸÜÿØ.',
                timer: 1500,
                showConfirmButton: false
              });
            } catch (err) {
              Swal.fire({
                icon: 'error',
                title: 'ÿÆÿ∑ÿß',
                text: 'ŸÅÿß€åŸÑ CSV ŸÖÿπÿ™ÿ®ÿ± ŸÜ€åÿ≥ÿ™.',
              });
            }
          },
          header: false,
          encoding: 'UTF-8'
        });
      };
      input.click();
    }

    // ÿ™ÿßÿ®ÿπ Ÿæÿß⁄© ⁄©ÿ±ÿØŸÜ ÿ™ŸÖÿßŸÖ ÿßÿ∑ŸÑÿßÿπÿßÿ™
    function clearAllData() {
      Swal.fire({
        title: 'ÿ¢€åÿß ŸÖÿ∑ŸÖÿ¶ŸÜ Ÿáÿ≥ÿ™€åÿØÿü',
        text: 'ÿ™ŸÖÿßŸÖ ÿØÿßÿØŸá‚ÄåŸáÿß€å ÿ∞ÿÆ€åÿ±Ÿá‚Äåÿ¥ÿØŸá Ÿæÿß⁄© ÿÆŸàÿßŸáÿØ ÿ¥ÿØ.',
        icon: 'warning',
        showCancelButton: true,
        confirmButtonText: 'ÿ®ŸÑŸá',
        cancelButtonText: 'ÿÆ€åÿ±'
      }).then((result) => {
        if (result.isConfirmed) {
          localStorage.clear();
          loadFormList();
          clearForm();
          Swal.fire('Ÿæÿß⁄© ÿ¥ÿØ!', 'ÿ™ŸÖÿßŸÖ ÿßÿ∑ŸÑÿßÿπÿßÿ™ Ÿæÿß⁄© ÿ¥ÿØ.', 'success');
        }
      });
    }
  </script>
</body>
</html>